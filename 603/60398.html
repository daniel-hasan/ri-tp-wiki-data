<html><title>Spanning Tree Protocol</title><body>&#10;<p><i> <b>Spanning Tree Protocol</b> </i> (referido com o acr&oacute;nimo <b>STP</b>) &eacute; um protocolo para equipamentos de <a href="http://en.wikipedia.org/wiki/Rede_de_computadores" id="w">rede</a> que permite resolver problemas de <i>loop</i> em redes comutadas cuja topologia introduza an&eacute;is nas liga&ccedil;&otilde;es, auxiliando na melhor performace da rede.</p>&#10;<p>O protocolo STP possibilita a inclus&atilde;o de liga&ccedil;&otilde;es redundantes entre os <a href="http://en.wikipedia.org/wiki/Comutador_(redes)" id="w">comutadores</a>, provendo caminhos alternativos no caso de falha de uma dessas liga&ccedil;&otilde;es. Nesse contexto, ele serve para evitar a forma&ccedil;&atilde;o de loops entre os comutadores e permitir a ativa&ccedil;&atilde;o e desativa&ccedil;&atilde;o autom&aacute;tica dos caminhos alternativos.</p>&#10;<p>Para isso, o algoritmo de Spanning Tree determina qual &eacute; o caminho mais eficiente (de menor custo) entre cada segmento separado por bridges ou switches. Caso ocorra um problema nesse caminho, o algoritmo ir&aacute; recalcular, entre os existentes, o novo caminho mais eficiente, habilitando&shy;o automaticamente. O nome deriva do algoritmo <i><a href="http://en.wikipedia.org/wiki/Spanning_tree_(algoritmo)" id="w">spanning tree</a></i> em <a href="http://en.wikipedia.org/wiki/Teoria_dos_grafos" id="w">teoria dos grafos</a>.</p>&#10;<p>Em 2012 <a href="http://en.wikipedia.org/wiki/IEEE_802.1aq" id="w">IEEE 802.1aq</a> foi aprovado como um padr&atilde;o para substituir 802.1d mais velho, 802.1w e protocolos 802.1s.</p>&#10;&#10;<a id="O_que_o_Spanning_tree_IEEE_802.1d_faz" name="O_que_o_Spanning_tree_IEEE_802.1d_faz"></a><h2> O que o Spanning tree IEEE 802.1d faz </h2>&#10;<p>O algoritmo spanning tree coloca cada porta de bridge/switch no estado forwarding ou no estado blocking. Considera&shy;se que todas as portas no estado forwarding em um dado momento est&atilde;o na spannig tree ativa. O conjunto de portas no estado forwarding cria um &uacute;nico caminho pelo qual os quadros s&atilde;o enviados entre os segmentos.</p>&#10;<a id="Bridge_Protocol_Data_Units_(BPDUs)" name="Bridge_Protocol_Data_Units_(BPDUs)"></a><h2> Bridge Protocol Data Units (BPDUs) </h2>&#10;<p>Para viabilizar o c&aacute;lculo do caminho de menor custo, &eacute; necess&aacute;rio que cada comutador tenha conhecimento de toda a topologia da rede. A disponibilidade dessas informa&ccedil;&otilde;es &eacute; assegurada pela troca de quadros especiais chamados BPDUs &shy; Bridge Protocol Data Units &shy; entre os comutadores .&#10;Os BPDUs s&atilde;o frames enviados para troca de informa&ccedil;&otilde;es tais como o bridge ID e o custo de caminho de um n&oacute; para a ra&iacute;z.&#10;A bridge o frame BPDU utilizando o endere&ccedil;o &uacute;nica MAC unicast da porta como endere&ccedil;o de origem, e o endere&ccedil;o de destino &eacute; o endere&ccedil;o MAC multicast da Spanning Tree.&#10;Existem tr&ecirc;s tipos de BPDUs:&#10;</p>&#10;<ul>&#10;<li>Configuration <a href="http://en.wikipedia.org/wiki/BPDU" id="w">BPDU</a> (CBPDU) &shy; C&aacute;lculo da Spanning Tree.</li>&#10;<li>Topology Change Notification (<a href="http://en.wikipedia.org/wiki/TCN" id="w">TCN</a>) BPDU &shy; Usado para notificar mudan&ccedil;as na topologia da rede.</li>&#10;<li>Topology Change Notification Acknowledgment (<a href="http://en.wikipedia.org/wiki/TCA" id="w">TCA</a>)</li></ul>&#10;<a id="Estado_das_portas_usando_STP_em_um_switch" name="Estado_das_portas_usando_STP_em_um_switch"></a><h2> Estado das portas usando STP em um switch </h2>&#10;<p><b>Bloqueio</b> &shy; Apenas recebendo BPDUs.</p>&#10;<p><b>Escuta</b> &shy; O switch processa BPDUs e espera por poss&iacute;veis novas informa&ccedil;&otilde;es que podem faz&ecirc;&shy;lo voltar ao estado de Bloqueio.</p>&#10;<p><b>Aprendizado</b> &shy; Quando a porta ainda est&aacute; &#34&semi;aprendendo&#34&semi; e montando sua tabela de endere&ccedil;os de origem dos frames recebidos.</p>&#10;<p><b>Encaminhamento</b> &shy; A porta envia e recebe dados. Opera&ccedil;&atilde;o normal. O STP continua monitorando por BPDUs que podem indicar que a porta deve retornar ao estado de bloqueio prevenindo um loop.</p>&#10;<p><b>Desativado</b> &shy; N&atilde;o est&aacute; utilizando STP. O administrador de redes pode desabilitar a porta manualmente.</p>&#10;<a id="Ver_tamb%C3%A9m" name="Ver_tamb%C3%A9m"></a><h2>Ver tamb&eacute;m</h2>&#10;&#10;<ul>&#10;<li><a href="http://en.wikipedia.org/wiki/IEEE_802.1" id="w">IEEE 802.1</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Shortest_Path_Bridging" id="w">Shortest Path Bridging (SPB)</a> &shy; <a href="http://en.wikipedia.org/wiki/IEEE_802.1aq" id="w">IEEE 802.1aq</a></li></ul>&#10;<p><a href="http://en.wikipedia.org/wiki/Categoria:Protocolos_Internet" id="w">Categoria:Protocolos Internet</a></p></body></html>