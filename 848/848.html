<html><title>File Transfer Protocol</title><body>&#10;<p> &#10; &#10;<b>FTP&#39&semi;<i> significa </i>File Transfer Protocol<i> (Protocolo de Transfer&ecirc;ncia de Arquivos), e &eacute; uma forma bastante r&aacute;pida e vers&aacute;til de transferir arquivos (Portugal: conhecidos como ficheiros), sendo uma das mais usadas na <a href="http://en.wikipedia.org/wiki/Internet" id="w">Internet</a>. </i></b></p>&#10;<p>Pode referir&shy;se tanto ao <a href="http://en.wikipedia.org/wiki/Protocolo" id="w">protocolo</a> quanto ao <a href="http://en.wikipedia.org/wiki/Programa_de_computador" id="w">programa</a> que implementa este protocolo (<a href="http://en.wikipedia.org/wiki/Servidor_FTP" id="w">Servidor FTP</a>, neste caso, tradicionalmente aparece em letras min&uacute;sculas, por influ&ecirc;ncia do programa de transfer&ecirc;ncia de arquivos do <a href="http://en.wikipedia.org/wiki/Unix" id="w">Unix</a>).</p>&#10;<p>A transfer&ecirc;ncia de dados em <a href="http://en.wikipedia.org/wiki/Rede_de_computadores" id="w">redes de computadores</a> envolve normalmente transfer&ecirc;ncia de arquivos e acesso a sistemas de arquivos remotos (com a mesma interface usada nos arquivos locais). O FTP (RFC 959) &eacute; baseado no <a href="http://en.wikipedia.org/wiki/TCP" id="w">TCP</a>, mas &eacute; anterior &agrave; pilha de protocolos TCP/IP, sendo posteriormente adaptado para o TCP/IP. &Eacute; o padr&atilde;o da pilha <a href="http://en.wikipedia.org/wiki/TCPIP" id="w">TCP/IP</a> para transferir arquivos, &eacute; um protocolo gen&eacute;rico independente de hardware e do <a href="http://en.wikipedia.org/wiki/Sistema_operacional" id="w">sistema operacional</a> e transfere arquivos por livre arb&iacute;trio, tendo em conta restri&ccedil;&otilde;es de acesso e propriedades dos mesmos.</p>&#10;<a id="Vis%C3%A3o_geral_do_protocolo" name="Vis%C3%A3o_geral_do_protocolo"></a><h2> Vis&atilde;o geral do protocolo </h2>&#10;<p>O protocolo &eacute; especificado na RFC959, resumida logo a seguir.<sup id="_ref&shy;postel_a" class="reference"><a href="#_note&shy;postel" title="">[1]</a></sup></p>&#10;<p>Um <a href="http://en.wikipedia.org/wiki/Cliente&shy;servidor" id="w">cliente</a> realiza uma conex&atilde;o <a href="http://en.wikipedia.org/wiki/Transmission_Control_Protocol" id="w">TCP</a> para a <a href="http://en.wikipedia.org/wiki/Porta_(redes_de_computadores)" id="w">porta</a> 21 do <a href="http://en.wikipedia.org/wiki/Servidor" id="w">servidor</a>. Essa conex&atilde;o, chamada de <i>conex&atilde;o de controle</i>, permanece aberta ao longo da sess&atilde;o enquanto uma segunda conex&atilde;o, chamada <i>conex&atilde;o de dados</i>, &eacute; estabelecida na porta 20 do servidor e em alguma porta do cliente (estabelecida no di&aacute;logo entre ambos) como requisitado para a transfer&ecirc;ncia de arquivo. A conex&atilde;o de controle &eacute; utilizada para administra&ccedil;&atilde;o da sess&atilde;o (comandos, identifica&ccedil;&atilde;o, senhas)<sup id="_ref&shy;kurose_a" class="reference"><a href="#_note&shy;kurose" title="">[2]</a></sup> entre cliente e servidor utilizando um protocolo semelhante ao Telnet. Por exemplo, &#34&semi;RETR filename&#34&semi; iria transferir o arquivo especificado de um servidor para um cliente. Devido a essa estrutura de duas portas, FTP &eacute; considerado out&shy;of&shy;band, ao contr&aacute;rio de protocolos in&shy;band, tal como <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol" id="w">HTTP</a><sup id="_ref&shy;kurose_b" class="reference"><a href="#_note&shy;kurose" title="">[2]</a></sup>.</p>&#10;<p>O servidor responde na conex&atilde;o de controle com tr&ecirc;s d&iacute;gitos de c&oacute;digo de estado em ASCII com uma mensagem de texto opcional. Por exemplo, &#34&semi;200&#34&semi; ou &#34&semi;200 OK&#34&semi; significa que o &uacute;ltimo comando obteve sucesso. Os n&uacute;meros representam o n&uacute;mero do c&oacute;digo e o texto opcional representa as explica&ccedil;&otilde;es ou par&acirc;metros necess&aacute;rios<sup id="_ref&shy;for_a" class="reference"><a href="#_note&shy;for" title="">[3]</a></sup>. Uma transfer&ecirc;ncia de arquivo em progresso, sobre uma conex&atilde;o de dados, pode ser abortada utilizando uma mensagem de interrup&ccedil;&atilde;o enviada sobre a conex&atilde;o de controle.</p>&#10;<p> pode ser executado em modo ativo ou passivo, os quais determinam como a conex&atilde;o de dados &eacute; estabelecida. No modo ativo, o cliente envia para o servidor o endere&ccedil;o IP e o n&uacute;mero da porta na qual ele ir&aacute; ouvir e ent&atilde;o o servidor inicia a conex&atilde;o TCP. Em situa&ccedil;&otilde;es onde o cliente est&aacute; atr&aacute;s de um firewall e inapto para aceitar entradas de conex&otilde;es TCP, o modo passivo pode ser utilizado. O cliente envia um comando PASV para o servidor e recebe um endere&ccedil;o IP e um n&uacute;mero de porta como resposta, os quais o cliente utiliza para abrir a conex&atilde;o de dados com o servidor.<sup id="_ref&shy;postel_b" class="reference"><a href="#_note&shy;postel" title="">[1]</a></sup> Ambos os modos foram atualizados em Setembro de 1998 para adicionar suporte ao IPv6 e feitas algumas mudan&ccedil;as no modo passivo, tornando&shy;o modo passivo estendido.<sup id="_ref&shy;4" class="reference"><a href="#_note&shy;4" title="">[4]</a></sup>.</p>&#10;<p>Durante a transfer&ecirc;ncia de dados sobre a rede, quatro representa&ccedil;&otilde;es de dados podem ser utilizadas<sup id="_ref&shy;clark_a" class="reference"><a href="#_note&shy;clark" title="">[5]</a></sup>:&#10;</p>&#10;<ul>&#10;<li>Modo <a href="http://en.wikipedia.org/wiki/ASCII" id="w">ASCII</a>: usado para texto. Dado &eacute; convertido, se necess&aacute;rio, da representa&ccedil;&atilde;o de caracteres do host remetente para 8&shy;bit em ASCII antes da transmiss&atilde;o, e (novamente, se necess&aacute;rio) para a representa&ccedil;&atilde;o de caracteres do host destinat&aacute;rio. Como consequ&ecirc;ncia, esse modo &eacute; inapropriado para arquivos que contenham dados num&eacute;ricos em bin&aacute;rio, ponto flutuante ou forma decima codificada em bin&aacute;rio.  </li>&#10;<li>Modo imagem (normalmente chamada de modo bin&aacute;rio): a m&aacute;quina remetente envia cada arquivo byte a byte e como tal, o destinat&aacute;rio armazena o fluxo de bytes conforme ele os recebe (o suporte ao modo imagem tem sido recomendado para todas as implementa&ccedil;&otilde;es de FTP).</li>&#10;<li>Modo <a href="http://en.wikipedia.org/wiki/EBCDIC" id="w">EBCDIC</a>: utilizado para texto simples entre hosts utilizando o conjunto de caracteres EBCDIC.</li>&#10;<li>Modo local: permite que dois computadores com configura&ccedil;&otilde;es id&ecirc;nticas enviem dados em um formato propriet&aacute;rio sem a necessidade de convert&ecirc;&shy;los para ASCII.</li></ul>&#10;<p>Para arquivos texto, s&atilde;o fornecidas op&ccedil;&otilde;es para diferentes controles de formato e estrutura de registros. Esses recursos foram projetados para suporte &agrave; formata&ccedil;&atilde;o <a href="http://en.wikipedia.org/wiki/Telnet" id="w">Telnet</a> ou <a href="http://en.wikipedia.org/wiki/En:ASA_carriage_control_characters" id="w">ASA</a>. </p>&#10;<p>A transfer&ecirc;ncia de dados pode ser feita em qualquer um dos tr&ecirc;s modos a seguir:<sup id="_ref&shy;for_b" class="reference"><a href="#_note&shy;for" title="">[3]</a></sup>&#10;</p>&#10;<ul>&#10;<li>Modo fluxo: dado &eacute; enviado como um fluxo cont&iacute;nuo, liberando FTP de fazer algum processamento. Ao inv&eacute;s disso, todo processamento &eacute; deixado para o TCP. Nenhum indicador de fim de arquivo &eacute; necess&aacute;rio, a menos que o dado esteja dividido dentro de registros.</li>&#10;<li>Modo de bloqueio: FTP quebra o dado dentro de v&aacute;rios blocos( bloco de cabe&ccedil;alho, contagem de byte e campo de dado) e ent&atilde;o passa&shy;o para o TCP.<sup id="_ref&shy;clark_b" class="reference"><a href="#_note&shy;clark" title="">[5]</a></sup></li>&#10;<li>Modo comprimido: dado &eacute; comprimido utilizando um algoritmo simples.</li></ul>&#10;<a id="Como_ocorre_a_transfer%C3%AAncia_de_arquivos" name="Como_ocorre_a_transfer%C3%AAncia_de_arquivos"></a><h2> Como ocorre a transfer&ecirc;ncia de arquivos </h2>&#10;<p>A transfer&ecirc;ncia de arquivos d&aacute;&shy;se entre um computador chamado &#34&semi;cliente&#34&semi; (aquele que solicita a conex&atilde;o para a transfer&ecirc;ncia de dados) e um servidor (aquele que recebe a solicita&ccedil;&atilde;o de transfer&ecirc;ncia).&#10;O utilizador, atrav&eacute;s de software espec&iacute;fico, pode selecionar quais arquivos enviar ou receber do servidor. Para existir uma conex&atilde;o ao servidor,caso o servidor exija,o utilizador informa um nome de utilizador (ou <i>username</i>, em ingl&ecirc;s) e uma senha <i>password</i>, bem como o nome correcto do servidor ou seu endere&ccedil;o IP.</p>&#10;<p>Se os dados foram informados corretamente, a conex&atilde;o pode ser estabelecida.</p>&#10;<a id="Acesso_aos_servidores_FTP" name="Acesso_aos_servidores_FTP"></a><h2> Acesso aos servidores FTP </h2>&#10;<p>O acesso a servidores FTP pode ocorrer de dois modos: atrav&eacute;s de uma interface ou atrav&eacute;s da linha de comando, tanto usu&aacute;rios UNIX como usu&aacute;rios Windows podem acessar atrav&eacute;s dos dois modos. O modo linha de comando est&aacute; presente em qualquer distribui&ccedil;&atilde;o UNIX&shy;like e Windows, atrav&eacute;s do telnet.</p>&#10;<p>A partir de qualquer <a href="http://en.wikipedia.org/wiki/Browser" id="w">browser</a> credenciado (Internet Explorer, Firefox, ou mesmo no Windows Explorer), conforme a norma RFC1738<sup id="_ref&shy;6" class="reference"><a href="#_note&shy;6" title="">[6]</a></sup> tamb&eacute;m &eacute; poss&iacute;vel aceder a um servidor FTP digitando na barra de endere&ccedil;o:</p>&#10;<p><code><a class="externallink" href="ftp://" rel="nofollow" title="ftp://">ftp://</a>[username]:[password]@[servidor] </code></p>&#10;<p>ou</p>&#10;<p><code><a class="externallink" href="ftp://" rel="nofollow" title="ftp://">ftp://</a>[username]:[password]@[servidor]:[porta]    &#10;</code></p>&#10;<a id="Modos_e_interfaces" name="Modos_e_interfaces"></a><h2> Modos e interfaces </h2>&#10;<p>O protocolo subjacente ao FTP pode rodar nos modos interativo ou <i>batch</i>. O cliente FTP fornece uma interface interativa, enquanto que o MIME e o HTTP usam&shy;no diretamente. O protocolo permite a grava&ccedil;&atilde;o e obten&ccedil;&atilde;o de arquivos, a listagem da pasta e a altera&ccedil;&atilde;o da pasta de trabalho.</p>&#10;<a id="Comandos_do_cliente_FTP" name="Comandos_do_cliente_FTP"></a><h2> Comandos do cliente FTP </h2>&#10;<p>Os servidores de FTP raramente mudam, mas novos clientes FTP aparecem com bastante regularidade. Estes clientes variam no n&uacute;mero de comandos que implementam, a maioria dos clientes FTP comerciais implementam apenas um pequeno subgrupo de comandos FTP. Mesmo que o FTP seja um protocolo orientado a linha de comandos, a nova gera&ccedil;&atilde;o dos clientes FTP esconde esta orienta&ccedil;&atilde;o num <a href="http://en.wikipedia.org/wiki/Ambiente_gr%C3%A1fico" id="w">ambiente gr&aacute;fico</a>, muitas vezes, muito desenvolvido.</p>&#10;<p>A interface cliente do FTP do <a href="http://en.wikipedia.org/wiki/Berkeley_Software_Distribution" id="w">BSD</a> <a href="http://en.wikipedia.org/wiki/Linux" id="w">UNIX</a> &eacute; um padr&atilde;o por si mesma, possuindo muitos comandos arcaicos como <tt>tenex</tt> ou <tt>carriage control</tt>, que hoje n&atilde;o t&ecirc;m uso. Os comandos mais usados s&atilde;o o <tt>cd</tt>, <tt>dir</tt>, <tt>ls</tt>,<tt>get</tt> e <tt>put</tt>.</p>&#10;<p>O FTP tem particularidades que s&atilde;o hoje pouco comuns. Depois da ativa&ccedil;&atilde;o do <tt>ftp&#60&semi;/tt&#62&semi;, &eacute; estabelecida uma conex&atilde;o ao host remoto. Esta conex&atilde;o envolve o uso da conta do usu&aacute;rio no host remoto, sendo que alguns servidores FTP disponibilizam <i>anonymous FTP&#39&semi;&#39&semi;.</i></tt></p>&#10;<p>Certos comandos s&atilde;o os que fazem a transfer&ecirc;ncia bidirecional de arquivos, s&atilde;o eles:&#10;</p>&#10;<ul>&#10;<li><tt>get</tt> do servidor FTP para o host local (<tt>mget</tt> para mais que um arquivo)</li>&#10;<li><tt>put</tt> para o servidor FTP a partir do host local (<tt>mput</tt> para mais que um arquivo)</li></ul>&#10;<p><b>Nota</b>: alguns comandos podem n&atilde;o funcionar com o usu&aacute;rio sendo <i>anonymous</i>, pois tal conta tem limita&ccedil;&otilde;es de direitos a n&iacute;vel do <a href="http://en.wikipedia.org/wiki/Sistema_operacional" id="w">sistema operacional</a>.</p>&#10;<a id="Tradu%C3%A7%C3%A3o_de_nomes_de_arquivos" name="Tradu%C3%A7%C3%A3o_de_nomes_de_arquivos"></a><h2> Tradu&ccedil;&atilde;o de nomes de arquivos </h2>&#10;<p>A sintaxe dos nomes dos arquivos pode ser incompat&iacute;vel entre diferentes Sistemas Operacionais. O <a href="http://en.wikipedia.org/wiki/UNIX" id="w">UNIX</a> usa 128 caracteres, mai&uacute;sculas e min&uacute;sculas, enquanto que o <a href="http://en.wikipedia.org/wiki/MS&shy;DOS" id="w">DOS</a> usa 8 + 3 caracteres e apenas mai&uacute;sculas. Certos nomes n&atilde;o podem ser usados em alguns sistemas. Devido a isto tudo o BSD ftp define regras para a tradu&ccedil;&atilde;o de nomes.</p>&#10;<a id="Mensagens_FTP" name="Mensagens_FTP"></a><h2> Mensagens FTP </h2>&#10;<p>O FTP permite dois modos de transfer&ecirc;ncia de mensagens FTP: <i>texto</i> (com tradu&ccedil;&otilde;es apropriadas) ou <i>bin&aacute;rio</i> (sem tradu&ccedil;&atilde;o). Cada mensagem do servidor inclui um identificador <a href="http://en.wikipedia.org/wiki/Decimal" id="w">decimal</a> de 3 d&iacute;gitos (exemplo:<tt> 226 Transfer complete</tt>). Estas mensagens podem ser vistas ou n&atilde;o, usando para isso o modo <i>verbose</i> ou <i>quiet</i>, respectivamente.</p>&#10;<a id="Modo_cliente&shy;servidor_do_FTP" name="Modo_cliente&shy;servidor_do_FTP"></a><h2> Modo cliente&shy;servidor do FTP </h2>&#10;<p>O servidor remoto aceita uma <i>conex&atilde;o de controle</i> do cliente local. O cliente envia comandos para o servidor e a conex&atilde;o persiste ao longo de toda a sess&atilde;o (tratando&shy;se assim de um protocolo que usa o TCP).</p>&#10;<p>O servidor cria uma <i>conex&atilde;o de dados</i> para a transfer&ecirc;ncia de dados, sendo criada uma conex&atilde;o para cada arquivo transferido. Estes dados s&atilde;o transferidos do servidor para o cliente e vice e versa.</p>&#10;<p>Os comandos est&atilde;o separados dos dados e o cliente pode enviar comandos durante a transfer&ecirc;ncia de dados. O encerramento da conex&atilde;o indica o fim do arquivo.</p>&#10;<a id="Lista_de_Comandos_FTPs" name="Lista_de_Comandos_FTPs"></a><h2> Lista de Comandos FTPs </h2>&#10;<p>Os comandos abaixo podem ser executados no FTP atrav&eacute;s da linha de comando. Os comandos do FTP podem ser abreviados, desde que n&atilde;o formem express&otilde;es amb&iacute;guas.</p>&#10;<p>Os comandos podem estar abreviados. Seguem os comandos:</p>&#10;&#10;<ul>&#10;<li><code><i>!:</i></code> Executa o comando na m&aacute;quina local.</li>&#10;<li><code><i>?:</i></code> Semelhante a help.</li>&#10;<li><code><i>append:</i></code> Adiciona dados a um arquivo existente.</li>&#10;<li><code><i>ascii:</i></code> Configura o tipo de transfer&ecirc;ncia de arquivos para ASCII.</li>&#10;<li><code><i>bell:</i></code> Emite um bip quando um comando &eacute; executado.</li>&#10;<li><code><i>binary:</i></code> Configura o tipo de transfer&ecirc;ncia de arquivos para bin&aacute;rio.</li>&#10;<li><code><i>bye:</i></code> Encerra a sess&atilde;o FTP.</li>&#10;<li><code><i>cd:</i></code> Seguido de caminho/diret&oacute;rio muda para o diret&oacute;rio informado.</li>&#10;<li><code><i>delete:</i></code> Apaga um arquivo. Para mais de um arquivo usa&shy;se <i>mdelete</i>.</li>&#10;<li><code><i>debug:</i></code> Estabelece a modalidade de depura&ccedil;&atilde;o.</li>&#10;<li><code><i>dir:</i></code> Mostra o conte&uacute;do do diret&oacute;rio servidor atual.</li>&#10;<li><code><i>disconnect:</i></code> Semelhante a <i>bye</i>.</li>&#10;<li><code><i>get:</i></code> Obt&ecirc;m um arquivo do servidor. Para mais de um arquivo usa&shy;se <i>mget</i>.</li>&#10;<li><code><i>glob:</i></code> Seleciona a expans&atilde;o para nomes de arquivo.</li>&#10;<li><code><i>hash:</i></code> Demonstra cada bloco do arquivo durante a transfer&ecirc;ncia. Cada bloco comp&otilde;e&shy;se de 1024 bytes.</li>&#10;<li><code><i>help:</i></code> Lista sumariamente todos comandos dispon&iacute;veis.</li>&#10;<li><code><i>literal:</i></code> Permite enviar comandos arbitr&aacute;rios.</li>&#10;<li><code><i>ls:</i></code> Mostra uma lista abreviada do conte&uacute;do do diret&oacute;rio servidor.Para mais de uma pasta usa&shy;se*<i>mls</i>.</li>&#10;<li><code><i>mkdir:</i></code> Cria um diret&oacute;rio ou subdiret&oacute;rio no servidor.</li>&#10;<li><code><i>prompt:</i></code> Ativa/desativa o modo interativo.</li>&#10;<li><code><i>put:</i></code> Envia um arquivo ao servidor. Para enviar mais de um arquivo usa&shy;se <i>mput</i>.</li>&#10;<li><code><i>pwd:</i></code> Mostra o diret&oacute;rio de trabalho.</li>&#10;<li><code><i>quit:</i></code> Finaliza a sess&atilde;o FTP.</li>&#10;<li><code><i>quote:</i></code> Envia subcomandos do servidor FTP, como se encontram no servidor.</li>&#10;<li><code><i>recv:</i></code> Similar a <i>get</i>.</li>&#10;<li><code><i>remotehelp:</i></code> Solicita ajuda do servidor FTP remoto.</li>&#10;<li><code><i>rename:</i></code> Renomeia um arquivo.</li>&#10;<li><code><i>send:</i></code> Semelhante a <i>put</i>.</li>&#10;<li><code><i>status:</i></code> Obtem informa&ccedil;&otilde;es de estado do servidor.</li>&#10;<li><code><i>trace:</i></code> Demonstra o caminho percorrido pelo arquivo na transfer&ecirc;ncia.</li>&#10;<li><code><i>type:</i></code> Especifica o tipo de representa&ccedil;&atilde;o.</li>&#10;<li><code><i>user:</i> </code>Iniciar a sess&atilde;o no servidor.</li>&#10;<li><code><i>verbose:</i> </code>Ativa/desativa a modalidade literal.</li></ul>&#10;<a id="%7B%7BVer_tamb%C3%A9m%7D%7D" name="%7B%7BVer_tamb%C3%A9m%7D%7D"></a><h2>   </h2>&#10;&#10;<ul>&#10;<li><a href="http://en.wikipedia.org/wiki/Servidor_FTP" id="w">Servidor FTP</a></li></ul>&#10;<a id="Refer%C3%AAncias" name="Refer%C3%AAncias"></a><h2> Refer&ecirc;ncias </h2>&#10;<p> &#10; </p>&#10;<p> </p>&#10;<p> </p>&#10;<p><a href="http://en.wikipedia.org/wiki/Categoria:Protocolos_Internet" id="w">Categoria:Protocolos Internet</a>&#10;<a href="http://en.wikipedia.org/wiki/Categoria:Hist%C3%B3ria_da_Internet" id="w">Categoria:Hist&oacute;ria da Internet</a>&#10;<a href="http://en.wikipedia.org/wiki/Categoria:Programas_Unix" id="w">Categoria:Programas Unix</a></p></body></html>