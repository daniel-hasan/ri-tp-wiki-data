<html><title>Border Gateway Protocol</title><body>&#10;<p> </p>&#10;<p>O <b>BGP</b> [RFCs 1771,1772,1773,1774,1657] assim como o <a href="http://en.wikipedia.org/wiki/Exterior_Gateway_Protocol" id="w">EGP</a>, &eacute; um protocolo de roteamento interdominios, criado para uso nos roteadores principais da <a href="http://en.wikipedia.org/wiki/Internet" id="w">Internet</a>.</p>&#10;<p>O BGP, protocolo de roteamento din&acirc;mico, utilizado para comunica&ccedil;&atilde;o entre sistemas aut&ocirc;nomos (ASs).</p>&#10;<p>O BGP foi projetado para evitar loops de roteamento em topologias arbitrarias, o mais serio problema de seu antecessor, o <a href="http://en.wikipedia.org/wiki/Exterior_Gateway_Protocol" id="w">EGP</a> (Exterior Gateway Protocol). Outro problema que o <a href="http://en.wikipedia.org/wiki/Exterior_Gateway_Protocol" id="w">EGP</a> nao resolve &shy; e &eacute; abordado pelo BGP &shy; &eacute; o do Roteamento Baseado em Politica (policy&shy;based routing), um roteamento com base em um conjunto de regras n&atilde;o&shy;t&eacute;cnicas, definidas pelos Sistemas Autonomos. Ele melhora o EGP. </p><hr/>&#10;<p>A fun&ccedil;&atilde;o prim&aacute;ria de um sistema BGP &eacute; trocar informa&ccedil;&atilde;o de acesso &agrave; rede, inclusive informa&ccedil;&atilde;o sobre a lista das trajet&oacute;rias dos ASs, com outros sistemas BGP. Esta informa&ccedil;&atilde;o pode ser usada para construir um gr&aacute;fico da conectividade dos ASs a partir do qual loops de roteamento podem ser detectados e refor&ccedil;adas as pol&iacute;ticas de decis&atilde;o com outros ASs.</p>&#10;<p>Quando um roteador se conecta &agrave; rede pela primeira vez, os roteadores BGP trocam suas tabelas de rotas completas. De maneira similar, quando a tabela de rotas muda, roteadores enviam a parte da tabela que mudou. Roteadores BGP n&atilde;o enviam regularmente atualiza&ccedil;&otilde;es de roteamento planejadas e as atualiza&ccedil;&otilde;es de rotas informam somente a trajet&oacute;ria &oacute;tima para uma rede.</p>&#10;<p>BGP usa uma &uacute;nica m&eacute;trica para determinar a melhor trajet&oacute;ria para uma dada rede. Esta m&eacute;trica consiste de n&uacute;mero arbitr&aacute;rio que especifica o grau de prefer&ecirc;ncia de um enlace em particular e &eacute; atribu&iacute;do pelo administrador da rede. Este n&uacute;mero pode ser baseado em qualquer crit&eacute;rio: n&uacute;mero de ASs que a trajet&oacute;ria cruza, estabilidade, velocidade, retardo ou custo.&#10;Os 4 tipos de mensagens BGP s&atilde;o:</p>&#10;<p><b>1. Abertura (open message)</b> &ndash; abre uma sess&atilde;o de comunica&ccedil;&atilde;o entre BGP pares (peers) e &eacute; a primeira mensagem enviada de cada lado depois que uma conex&atilde;o de protocolo de transporte &eacute; estabelecida&semi; essa mensagem &eacute; confirmada usando uma mensagem de keep&shy;alive enviada pelo roteador par e tem que ser confirmada antes da atualiza&ccedil;&otilde;es, notifica&ccedil;&otilde;es e outras mensagens de keep&shy;alive.</p>&#10;<p><b>2. Atualiza&ccedil;&atilde;o (update message)</b> &ndash; &eacute; usada para informar atualiza&ccedil;&otilde;es de rotas para outros sistemas BGP, permitindo que os roteadores possam construir uma vis&atilde;o consistente da topologia da rede, usando o TCP para garantir uma entrega confi&aacute;vel&semi; essas mensagens podem retirar rotas invi&aacute;veis (unfeasible routes) da tabela de roteamento e simultaneamente informar uma nova rota.</p>&#10;<p><b>3. Notifica&ccedil;&atilde;o (notification message)</b> &ndash; &eacute; enviada quando uma condi&ccedil;&atilde;o de erro &eacute; detectada&semi; elas s&atilde;o usadas para encerrar uma sess&atilde;o ativa e informar a quaisquer roteadores conectados do porque do encerramento da sess&atilde;o.</p>&#10;<p><b>4. Keep&shy;alive</b> &ndash; notifica aos roteadores BGP pares que um dispositivo est&aacute; ativo.</p><hr/>&#10;<a id="Os_formatos_do_pacote_BGP_s%C3%A3o" name="Os_formatos_do_pacote_BGP_s%C3%A3o"></a><h2> Os formatos do pacote BGP s&atilde;o </h2>&#10;<p><b>1. Cabe&ccedil;alho</b> &ndash; todos os tipos de mensagens usam o cabe&ccedil;alho b&aacute;sico mais alguns campos adicionais, exceto a mensagem Keep&shy;alive que usa somente o cabe&ccedil;alho b&aacute;sico&semi; seus campos s&atilde;o:&#10;</p>&#10;<ul>&#10;<li>Marcador (Marker) &ndash; cont&eacute;m um valor de autentica&ccedil;&atilde;o que o recebedor pode verificar.</li></ul>&#10;&#10;<ul>&#10;<li>Comprimento (Length) &ndash; indica o comprimento total da mensagem em bytes.</li></ul>&#10;&#10;<ul>&#10;<li>Tipo (Type) &ndash; especifica o tipo de mensagem.</li></ul>&#10;&#10;<ul>&#10;<li>Dados (Data) &ndash; opcional, cont&eacute;m informa&ccedil;&atilde;o das camadas superiores.</li></ul>&#10;<p><b>2. Abertura</b> &ndash;fornece o crit&eacute;rio de troca para que dois roteadores BGP estabele&ccedil;am uma rela&ccedil;&atilde;o par (peer relationship)&semi; seus campos s&atilde;o:</p>&#10;&#10;<ul>&#10;<li>Vers&atilde;o (Version) &ndash; informa o n&uacute;mero da vers&atilde;o do protocolo BGP.</li></ul>&#10;&#10;<ul>&#10;<li>Sistema Aut&ocirc;nomo (Autonomous System &shy; AS)&ndash; n&uacute;mero do AS do enviador.</li></ul>&#10;&#10;<ul>&#10;<li>Hold&shy;time &ndash; indica o n&uacute;mero m&aacute;ximo de segundos que podem decorrer, sem receber uma mensagem, antes que o transmissor seja assumido como n&atilde;o funcional.</li></ul>&#10;&#10;<ul>&#10;<li>Identificador do BGP (BGP Identifier) &ndash; fornece um identificador BGP do transmissor (endere&ccedil;o IP) determinado na inicializa&ccedil;&atilde;o sendo id&ecirc;ntico para todas as interfaces locais e para todos os BGPs pares.</li></ul>&#10;&#10;<ul>&#10;<li>Comprimento dos par&acirc;metros opcionais (Optional Parameters Length) &ndash; indica o comprimento do campo opcional de par&acirc;metros (se existir).</li></ul>&#10;&#10;<ul>&#10;<li>Par&acirc;metros opcionais (Optional Parameters) &ndash; cont&eacute;m uma lista dos par&acirc;metros opcionais (se existir)&semi; atualmente somente um tipo est&aacute; definido: informa&ccedil;&atilde;o de autentica&ccedil;&atilde;o.</li></ul>&#10;<p><b>3. Atualiza&ccedil;&atilde;o &ndash;</b> ao receberem um pacote de mensagem de atualiza&ccedil;&atilde;o, os roteadores estar&atilde;o aptos a adicionar ou excluir entradas espec&iacute;ficas de suas tabelas de roteamento&semi; seus campos s&atilde;o:</p>&#10;&#10;<ul>&#10;<li>Comprimento das Rotas Invi&aacute;veis (Unfeasible Routes Length) &ndash; indica o comprimento total do campo de retirada de rotas ou indica que o campo n&atilde;o est&aacute; presente.</li></ul>&#10;&#10;<ul>&#10;<li>Retirada de Rotas (Withdrawn Routes) &ndash; cont&eacute;m a lista dos prefixos dos endere&ccedil;os IP para as rotas que est&atilde;o sendo retiradas de servi&ccedil;o.</li></ul>&#10;&#10;<ul>&#10;<li>Comprimento total dos atributos de trajet&oacute;ria (Total Path Attribute Length) &ndash; indica o comprimento total do campo de atributos da trajet&oacute;ria ou que indica que o campo n&atilde;o est&aacute; presente.</li></ul>&#10;<p>Atributos da Trajet&oacute;ria (Path Attributes) &ndash; descreve as caracter&iacute;sticas da trajet&oacute;ria informada.&#10;Informa&ccedil;&atilde;o de Acessibilidade da Camada de Rede (Network Layer Reachability Information) &ndash; cont&eacute;m a lista de prefixos dos endere&ccedil;os IP para as rotas informadas.</p>&#10;<p><b>4. Notifica&ccedil;&atilde;o &ndash;</b> este pacote &eacute; usado para indicar algum tipo de condi&ccedil;&atilde;o de erro para os pares do roteador de origem&semi; seus campos s&atilde;o:</p>&#10;&#10;<ul>&#10;<li>C&oacute;digo de Erro (Error Code) &ndash; indica o tipo de erro que ocorreu.</li>&#10;<li>Sub&shy;c&oacute;digo de Erro (Error Subcode)&ndash; fornece informa&ccedil;&atilde;o mais espec&iacute;fica sobre a natureza do erro informado.</li>&#10;<li>Dados do Erro (Error Data) &ndash; cont&eacute;m os dados baseados no c&oacute;digo de erro e campos de sub&shy;c&oacute;digo de erro&semi; este campo &eacute; usado para diagnosticar a causa para a mensagem de notifica&ccedil;&atilde;o.</li></ul>&#10;<a id="Formato_do_cabe%C3%A7alho_BGP" name="Formato_do_cabe%C3%A7alho_BGP"></a><h2> Formato do cabe&ccedil;alho BGP </h2>&#10;<p>Cada pacote BGP cont&eacute;m um cabe&ccedil;alho cujo principal prop&oacute;sito &eacute; identificar a fun&ccedil;&atilde;o do pacote em quest&atilde;o. As seguintes descri&ccedil;&otilde;es resume a fun&ccedil;&atilde;o de cada campo do cabe&ccedil;alho BGP.&#10;</p>&#10;<ul>&#10;<li>Marcador (16 bytes) &ndash; Cont&eacute;m um valor de autentica&ccedil;&atilde;o que o destinat&aacute;rio da mensagem poder&aacute; prever.</li></ul>&#10;&#10;<ul>&#10;<li>Comprimento (2 bytes)&ndash; Indica o comprimento total da mensagem em bytes.</li></ul>&#10;&#10;<ul>&#10;<li>Tipo (1 byte) &ndash; Especifica o tipo de mensagem como um dos seguintes:</li></ul>&#10;&#10;<ul>&#10;<li>&#10;<ul>&#10;<li>Abrir</li></ul></li></ul>&#10;&#10;<ul>&#10;<li>&#10;<ul>&#10;<li>Atualizar</li></ul></li></ul>&#10;&#10;<ul>&#10;<li>&#10;<ul>&#10;<li>Notifica&ccedil;&atilde;o</li></ul></li></ul>&#10;&#10;<ul>&#10;<li>&#10;<ul>&#10;<li>Keep Alive (Manter vivo)</li></ul></li></ul>&#10;&#10;<ul>&#10;<li>Dados (tamanho vari&aacute;vel) &ndash; Cont&eacute;m informa&ccedil;&otilde;es da camada superior nesse campo opcional.</li></ul>&#10;<p>A ultima vers&atilde;o do BGP, o BGP4, foi projetado para suportar os problemas causados pelo grande crescimento da Internet.</p>&#10;<a id="T%C3%B3picos_relacionados" name="T%C3%B3picos_relacionados"></a><h2> T&oacute;picos relacionados </h2>&#10;&#10;<ul>&#10;<li><a href="http://en.wikipedia.org/wiki/OSPF" id="w">OSPF</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Routing_Information_Protocol" id="w">RIP</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Traceroute" id="w">Traceroute</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Ping" id="w">Ping</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/WHOIS" id="w">WHOIS</a></li></ul>&#10;<p> </p>&#10;<p><a href="http://en.wikipedia.org/wiki/Categoria:Protocolos_Internet" id="w">Categoria:Protocolos Internet</a>&#10;<a href="http://en.wikipedia.org/wiki/Categoria:Protocolos_de_roteamento" id="w">Categoria:Protocolos de roteamento</a></p></body></html>