<html><title>Dynamic Host Configuration Protocol</title><body>&#10;<p><a href="http://en.wikipedia.org/wiki/Ficheiro:DHCP_Server.png" id="w">miniaturadaimagem</a></p>&#10;<p> </p>&#10;<p>O <b>DHCP</b>, <i>Dynamic Host Configuration Protocol</i> (Protocolo de configura&ccedil;&atilde;o din&acirc;mica de host), &eacute; um <a href="http://en.wikipedia.org/wiki/Protocolo" id="w">protocolo</a> de servi&ccedil;o <a href="http://en.wikipedia.org/wiki/TCP" id="w">TCP</a>/<a href="http://en.wikipedia.org/wiki/IP" id="w">IP</a> que oferece configura&ccedil;&atilde;o din&acirc;mica de terminais, com concess&atilde;o de <a href="http://en.wikipedia.org/wiki/Endere%C3%A7o_IP" id="w">endere&ccedil;os IP</a> de host, M&aacute;scara de sub&shy;rede, Default Gateway (Gateway Padr&atilde;o), N&uacute;mero IP de um ou mais servidores DNS, N&uacute;mero IP de um ou mais servidores WINS e Sufixos de pesquisa do DNS. Este protocolo &eacute; o sucessor do <a href="http://en.wikipedia.org/wiki/BOOTP" id="w">BOOTP</a> que, embora mais simples, tornou&shy;se limitado para as exig&ecirc;ncias atuais. O DHCP surgiu como padr&atilde;o em Outubro de <a href="http://en.wikipedia.org/wiki/1993" id="w">1993</a>. O RFC 2131 cont&eacute;m as especifica&ccedil;&otilde;es mais atuais (mar&ccedil;o de 1997). O &uacute;ltimo standard para a especifica&ccedil;&atilde;o do DHCP sobre <a href="http://en.wikipedia.org/wiki/IPv6" id="w">IPv6</a> (<a href="http://en.wikipedia.org/wiki/DHCPv6" id="w">DHCPv6</a>) foi publicado a Julho de <a href="http://en.wikipedia.org/wiki/2003" id="w">2003</a> como RFC 3315.</p>&#10;<a id="Funcionamento_B%C3%A1sico" name="Funcionamento_B%C3%A1sico"></a><h2> Funcionamento B&aacute;sico </h2>&#10;<p>Resumidamente, o DHCP opera da seguinte forma:&#10;</p>&#10;<ul>&#10;<li>Um cliente envia um <a href="http://en.wikipedia.org/wiki/Pacote" id="w">pacote</a> <a href="http://en.wikipedia.org/wiki/Protocolo_UDP" id="w">UDP</a> em <i><a href="http://en.wikipedia.org/wiki/Broadcast" id="w">broadcast</a></i> (destinado a todas as m&aacute;quinas) com uma requisi&ccedil;&atilde;o DHCP (para a <a href="http://en.wikipedia.org/wiki/Porta_(redes_de_computadores)" id="w">porta</a> 67)&semi;</li>&#10;<li>Os <a href="http://en.wikipedia.org/wiki/Servidor" id="w">servidores</a> DHCP que capturarem este pacote ir&atilde;o responder (se o cliente se enquadrar numa s&eacute;rie de crit&eacute;rios &mdash; ver abaixo) para a porta 68 do <i>Host</i> solicitante com um pacote com configura&ccedil;&otilde;es onde constar&aacute;, pelo menos, um <a href="http://en.wikipedia.org/wiki/Endere%C3%A7o_IP" id="w">endere&ccedil;o IP</a>, uma <a href="http://en.wikipedia.org/wiki/M%C3%A1scara_de_rede" id="w">m&aacute;scara de rede</a> e outros dados opcionais, como o <a href="http://en.wikipedia.org/wiki/Gateway" id="w">gateway</a>, servidores de <a href="http://en.wikipedia.org/wiki/Domain_Name_System" id="w">DNS</a>, etc...</li></ul>&#10;<p>O DHCP usa um modelo <a href="http://en.wikipedia.org/wiki/Cliente&shy;servidor" id="w">cliente&shy;servidor</a>, no qual o servidor DHCP mant&eacute;m o gerenciamento centralizado dos endere&ccedil;os IP usados na rede.</p>&#10;<a id="Termos_Utilizados_no_DHCP" name="Termos_Utilizados_no_DHCP"></a><h2> Termos Utilizados no DHCP </h2>&#10;<p><b>Servidor DHCP</b>: &Eacute; um servidor onde foi instalado e configurado o servi&ccedil;o DHCP. Ap&oacute;s a instala&ccedil;&atilde;o de um servidor DHCP ele tem que ser autorizado no Active Directory, antes que ele possa, efetivamente, atender a requisi&ccedil;&otilde;es de clientes. O procedimento de autoriza&ccedil;&atilde;o no Active Directory &eacute; uma medida de seguran&ccedil;a, para evitar que servidores DHCP sejam introduzidos na rede sem o conhecimento do administrador. O servidor DHCP n&atilde;o pode ser instalado em um computador com o Windows 2000 Professional, Windows XP Professional ou Windows Vista. &#10;Al&eacute;m do Windows Server, o servi&ccedil;o de DHCP tamb&eacute;m pode ser instalado nas distribui&ccedil;&otilde;es LINUX, como o servi&ccedil;o DHCP3 Server, que j&aacute; vem na maioria das distribui&ccedil;&otilde;es LINUX de rede.</p>&#10;<p><b>Cliente DHCP</b>: &Eacute; qualquer dispositivo de rede capaz de obter as configura&ccedil;&otilde;es do TCP/IP a partir de um servidor DHCP. Por exemplo, uma esta&ccedil;&atilde;o de trabalho com o Windows 95/98/Me, Windows NT Workstation 4.0, Windows 2000 Professional, Windows XP, Windows Vista, uma esta&ccedil;&atilde;o com qualquer distribui&ccedil;&atilde;o LINUX, uma impressora com placa de rede habilitada ao DHCP e assim por diante.</p>&#10;<p><b>Escopo</b>: Um escopo &eacute; o intervalo consecutivo completo dos endere&ccedil;os IP poss&iacute;veis para uma rede (por exemplo, a faixa de 10.10.10.100 a 10.10.10.150, na rede 10.10.10.0/255.255.255.0). Em geral, os escopos definem uma &uacute;nica sub&shy;rede f&iacute;sica, na rede na qual ser&atilde;o oferecidos servi&ccedil;os DHCP. Os escopos tamb&eacute;m fornecem o m&eacute;todo principal para que o servidor gerencie a distribui&ccedil;&atilde;o e atribui&ccedil;&atilde;o de endere&ccedil;os IP e outros par&acirc;metros de configura&ccedil;&atilde;o para clientes na rede, tais como o Default Gateway, Servidor DNS e assim por diante.. </p>&#10;<p><b>Superescopo</b>: Um superescopo &eacute; um agrupamento administrativo de escopos que pode ser usado para oferecer suporte a v&aacute;rias sub&shy;redes IP l&oacute;gicas na mesma sub&shy;rede f&iacute;sica. Os superescopos cont&ecirc;m somente uma lista de escopos associados ou escopos filho que podem ser ativados em cojunto. Os superescopos n&atilde;o s&atilde;o usados para configurar outros detalhes sobre o uso de escopo. Para configurar a maioria das propriedades usadas em um superescopo, voc&ecirc; precisa configurar propriedades de cada escopo associado, individualmente. Por exemplo, se todos os computadores devem receber o mesmo n&uacute;mero IP de Default Gateway, este n&uacute;mero tem que ser configurado em cada escopo, individualmente. N&atilde;o tem como fazer esta configura&ccedil;&atilde;o no Superescopo e todos os escopos (que comp&otilde;em o Superescopo), herdarem estas configura&ccedil;&otilde;es.</p>&#10;<p><b>Intervalo de exclus&atilde;o</b>: Um intervalo de exclus&atilde;o &eacute; uma seq&uuml;&ecirc;ncia limitada de endere&ccedil;os IP dentro de um escopo, exclu&iacute;do dos endere&ccedil;os que s&atilde;o fornecidos pelo DHCP. Os intervalos de exclus&atilde;o asseguram que quaisquer endere&ccedil;os nesses intervalos n&atilde;o s&atilde;o oferecidos pelo servidor para clientes DHCP na sua rede. Por exemplo, dentro da faixa 10.10.10.100 a 10.10.10.150, na rede 10.10.10.0/255.255.255.0 de um determinado escopo, voc&ecirc; pode criar uma faixa de exclus&atilde;o de 10.10.10.120 a 10.10.10.130. Os endere&ccedil;os da faixa de exclus&atilde;o n&atilde;o ser&atilde;o utilizados pelo servidor DHCP para configurar os clientes DHCP.</p>&#10;<p><b>Pool de endere&ccedil;os</b>: Ap&oacute;s definir um escopo DHCP e aplicar intervalos de exclus&atilde;o, os endere&ccedil;os remanescentes formam o pool de endere&ccedil;os dispon&iacute;veis dentro do escopo. Endere&ccedil;os em pool s&atilde;o qualificados para atribui&ccedil;&atilde;o din&acirc;mica pelo servidor para clientes DHCP na sua rede. No nosso exemplo, onde temos o escopo com a faixa 10.10.10.100 a 10.10.10.150, com uma faixa de exclus&atilde;o de 10.10.10.120 a 10.10.10.130, o nosso pool de endere&ccedil;os &eacute; formado pelos endere&ccedil;os de 10.10.10.100 a 10.10.10.119, mais os endere&ccedil;os de 10.10.10.131 a 10.10.10.150. </p>&#10;<p><b>Concess&atilde;o</b>&#39&semi;: Uma concess&atilde;o &eacute; um per&iacute;odo de tempo especificado por um servidor DHCP durante o qual um computador cliente pode usar um endere&ccedil;o IP que ele recebeu do servidor DHCP (diz&shy;se atribu&iacute;do pelo servidor DHCP). Uma concess&atilde;o est&aacute; ativa quando ela est&aacute; sendo utilizada pelo cliente. Geralmente, o cliente precisa renovar sua atribui&ccedil;&atilde;o de concess&atilde;o de endere&ccedil;o com o servidor antes que ela expire. Uma concess&atilde;o torna&shy;se inativa quando ela expira ou &eacute; exclu&iacute;da no servidor. A dura&ccedil;&atilde;o de uma concess&atilde;o determina quando ela ir&aacute; expirar e com que freq&uuml;&ecirc;ncia o cliente precisa renov&aacute;&shy;la no servidor. </p>&#10;<p><b>Reserva</b>: Voc&ecirc; usa uma reserva para criar uma concess&atilde;o de endere&ccedil;o permanente pelo servidor DHCP. As reservas asseguram que um dispositivo de hardware especificado na sub&shy;rede sempre pode usar o mesmo endere&ccedil;o IP. A reserva &eacute; criada associada ao endere&ccedil;o de Hardware da placa de rede, conhecido como MAC&shy;Address. No servidor DHCP voc&ecirc; cria uma reserva, associando um endere&ccedil;o IP com um endere&ccedil;o MAC. Quando o computador (com o endere&ccedil;o MAC para o qual existe uma reserva) &eacute; inicializado, ele entre em contato com o servidor DHCP. O servidor DHCP verifica que existe uma reserva para aquele MAC&shy;Address e configura o computador com o endere&ccedil;o IP associado ao Mac&shy;address. Caso haja algum problema na placa de rede do computador e a placa tenha que ser substitu&iacute;da, mudar&aacute; o MAC&shy;Address e a reserva anterior ter&aacute; que ser exclu&iacute;da e uma nova reserva ter&aacute; que ser criada, utilzando, agora, o novo Mac&shy;Address.</p>&#10;<p><b>Tipos de op&ccedil;&atilde;o</b>: Tipos de op&ccedil;&atilde;o s&atilde;o outros par&acirc;metros de configura&ccedil;&atilde;o do cliente que um servidor DHCP pode atribuir aos clientes. Por exemplo, algumas op&ccedil;&otilde;es usadas com freq&uacute;&ecirc;ncia incluem endere&ccedil;os IP para gateways padr&atilde;o (roteadores), servidores WINS (Windows Internet Name System) e servidores DNS (Domain Name System). Geralmente, esses tipos de op&ccedil;&atilde;o s&atilde;o ativados e configurados para cada escopo. O console de Administra&ccedil;&atilde;o do servi&ccedil;o DHCP tamb&eacute;m permite a voc&ecirc; configurar tipos de op&ccedil;&atilde;o padr&atilde;o que s&atilde;o usados por todos os escopos adicionados e configurados no servidor. A maioria das op&ccedil;&atilde;o &eacute; predefinida atrav&eacute;s da RFC 2132, mas voc&ecirc; pode usar o console DHCP para definir e adicionar tipos de op&ccedil;&atilde;o personalizados, se necess&aacute;rio.</p>&#10;<a id="Crit%C3%A9rios_de_atribui%C3%A7%C3%A3o_de_IPs" name="Crit%C3%A9rios_de_atribui%C3%A7%C3%A3o_de_IPs"></a><h2> Crit&eacute;rios de atribui&ccedil;&atilde;o de IPs </h2>&#10;<p>O DHCP, dependendo da implementa&ccedil;&atilde;o, pode oferecer tr&ecirc;s tipos de aloca&ccedil;&atilde;o de endere&ccedil;os IP:&#10;</p>&#10;<ul>&#10;<li><b>Atribui&ccedil;&atilde;o manual</b> &shy; Onde existe uma tabela de associa&ccedil;&atilde;o entre o <a href="http://en.wikipedia.org/wiki/Endere%C3%A7o_MAC" id="w">Endere&ccedil;o MAC</a> do cliente (que ser&aacute; comparado atrav&eacute;s do pacote <i>broadcast</i> recebido) e o endere&ccedil;o IP (e dados restantes) a fornecer. Esta associa&ccedil;&atilde;o &eacute; feita manualmente pelo <a href="http://en.wikipedia.org/wiki/Administrador_de_sistema" id="w">administrador de rede</a>&semi; por conseguinte, apenas os clientes cujo MAC consta nesta lista poder&atilde;o receber configura&ccedil;&otilde;es desse servidor&semi;</li>&#10;<li><b>Atribui&ccedil;&atilde;o autom&aacute;tica</b> &shy; Onde o cliente obt&eacute;m um endere&ccedil;o de um espa&ccedil;o de endere&ccedil;os poss&iacute;veis, especificado pelo administrador. Geralmente n&atilde;o existe v&iacute;nculo entre os v&aacute;rios MAC habilitados a esse espa&ccedil;o de endere&ccedil;os&semi;</li>&#10;<li><b>Atribui&ccedil;&atilde;o din&acirc;mica</b> &shy; O &uacute;nico m&eacute;todo que disp&otilde;e a reutiliza&ccedil;&atilde;o din&acirc;mica dos endere&ccedil;os. O administrador disponibiliza um espa&ccedil;o de endere&ccedil;os poss&iacute;veis, e cada cliente ter&aacute; o software <a href="http://en.wikipedia.org/wiki/TCP/IP" id="w">TCP/IP</a> da sua <a href="http://en.wikipedia.org/wiki/Interface_de_rede" id="w">interface de rede</a> configurados para requisitar um endere&ccedil;o por DHCP assim que a m&aacute;quina for ligada na rede. A aloca&ccedil;&atilde;o utiliza um mecanismo de aluguel do endere&ccedil;o, caracterizado por um tempo de vida. Ap&oacute;s a m&aacute;quina se desligar, o tempo de vida naturalmente ir&aacute; expirar, e da pr&oacute;xima vez que o cliente se conectar, o endere&ccedil;o provavelmente ser&aacute; outro.</li></ul>&#10;<p>Algumas implementa&ccedil;&otilde;es do software servidor de DHCP permitem ainda a atualiza&ccedil;&atilde;o din&acirc;mica dos servidores de <a href="http://en.wikipedia.org/wiki/Domain_Name_System" id="w">DNS</a> para que cada cliente disponha tamb&eacute;m de um DNS. Este mecanismo utiliza o protocolo de atualiza&ccedil;&atilde;o do DNS especificado no RFC 2136.</p>&#10;<a id="Detalhes_t%C3%A9cnicos" name="Detalhes_t%C3%A9cnicos"></a><h2> Detalhes t&eacute;cnicos </h2>&#10;<a id="DHCP_descoberta" name="DHCP_descoberta"></a><h3> DHCP descoberta </h3>&#10;<p>O cliente transmite mensagens na sub&shy;rede f&iacute;sica para descobrir os servidores DHCP dispon&iacute;veis. Os administradores de rede podem configurar um roteador local para encaminhar pacotes DHCP a um servidor DHCP de uma sub&shy;rede diferente. Este cliente cria um User Datagram Protocol pacote (UDP), com o destino de difus&atilde;o de 255.255.255.255 ou o endere&ccedil;o de broadcast de sub&shy;rede espec&iacute;fica.&#10;Um cliente DHCP tamb&eacute;m pode solicitar o seu &uacute;ltimo endere&ccedil;o IP conhecido (no exemplo abaixo, 192.168.1.100). Se o cliente permanece conectado a uma rede IP para o qual este &eacute; v&aacute;lido, o servidor pode satisfazer o pedido. Caso contr&aacute;rio, ele depende se o servidor est&aacute; configurado no modo autorit&aacute;rio ou n&atilde;o. Um servidor no modo autorit&aacute;rio ir&aacute; negar o pedido, fazendo o cliente pedir um novo endere&ccedil;o IP imediatamente. Um servidor no modo n&atilde;o autorit&aacute;rio simplesmente ignora o pedido, levando a um limite de tempo, dependente da implementa&ccedil;&atilde;o, para o cliente desistir do pedido e pedir um novo endere&ccedil;o IP..</p>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>DHCPDISCOVER</caption>&#10;<tr>&#10;<td colspan="4">UDP Src=192.168.1.1 sPort=67<br/>Dest=255.255.255.255 dPort=68</td></tr>&#10;<tr>&#10;<th>OP</th>&#10;<th>HTYPE</th>&#10;<th>HLEN</th>&#10;<th>HOPS</th></tr>&#10;<tr>&#10;<td>0x02</td>&#10;<td>0x01</td>&#10;<td>0x06</td>&#10;<td>0x00</td></tr>&#10;<tr>&#10;<th colspan="5">XID</th></tr>&#10;<tr>&#10;<td colspan="5">0x3903F326</td></tr>&#10;<tr>&#10;<th colspan="3">SECS</th>&#10;<th colspan="2">FLAGS</th></tr>&#10;<tr>&#10;<td colspan="2">0x0000</td>&#10;<td colspan="2">0x0000</td></tr>&#10;<tr>&#10;<th colspan="4">CIADDR (Client IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">YIADDR (Your IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80164</td></tr>&#10;<tr>&#10;<th colspan="4">SIADDR (Server IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80101</td></tr>&#10;<tr>&#10;<th colspan="4">GIADDR (Gateway IP Address switched by relay)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">CHADDR (Client Hardware Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00053C04</td></tr>&#10;<tr>&#10;<td colspan="4">0x8D590000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000&#10;</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">192 octets of 0s. <a href="http://en.wikipedia.org/wiki/BOOTP" id="w">BOOTP</a> legacy</td></tr>&#10;<tr>&#10;<th colspan="4">Magic Cookie</th></tr>&#10;<tr>&#10;<td colspan="4">0x63825363</td></tr>&#10;<tr>&#10;<th colspan="4">DHCP Options</th></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 53: DHCP ACK</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 1: 255.255.255.0 subnet mask</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 3: 192.168.1.1 router</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 51: 86400s (1 day) IP lease time</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 54: 192.168.1.1 DHCP server</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 6: DNS servers 9.7.10.15, 9.7.10.16, 9.7.10.18</td></tr></table></div>&#10;&#10;<a id="DHCP_oferta" name="DHCP_oferta"></a><h3> DHCP oferta </h3>&#10;<p>Quando um servidor DHCP recebe um pedido de concess&atilde;o de IP de um cliente, ele reserva um endere&ccedil;o IP para o cliente (Essa reserva &eacute; opcional, segundo a RFC 2131 &shy; 3.1.2) e estende uma oferta de concess&atilde;o IP atrav&eacute;s do envio de uma mensagem DHCPOFFER para o cliente. Esta mensagem cont&eacute;m o endere&ccedil;o do cliente MAC, o endere&ccedil;o IP que o servidor est&aacute; oferecendo, a m&aacute;scara de sub&shy;rede, a dura&ccedil;&atilde;o da concess&atilde;o, bem como o endere&ccedil;o IP do servidor de DHCP que faz a oferta.&#10;O servidor determina a configura&ccedil;&atilde;o com base no endere&ccedil;o de hardware do cliente como especificado no campo chaddr (endere&ccedil;o de hardware do cliente). Aqui o servidor, 192.168.1.1, especifica o endere&ccedil;o IP no campo yiaddr (seu endere&ccedil;o IP).</p>&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>DHCPOFFER</caption>&#10;<tr>&#10;<td colspan="4">UDP Src=192.168.1.1 sPort=67 <br/> Dest=255.255.255.255 dPort=68</td></tr>&#10;<tr>&#10;<th>OP</th>&#10;<th>HTYPE</th>&#10;<th>HLEN</th>&#10;<th>HOPS</th></tr>&#10;<tr>&#10;<td>0x02</td>&#10;<td>0x01</td>&#10;<td>0x06</td>&#10;<td>0x00</td></tr>&#10;<tr>&#10;<th colspan="4">XID</th></tr>&#10;<tr>&#10;<td colspan="4">0x3903F326</td></tr>&#10;<tr>&#10;<th colspan="2">SECS</th>&#10;<th colspan="2">FLAGS</th></tr>&#10;<tr>&#10;<td colspan="2">0x0000</td>&#10;<td colspan="2">0x0000</td></tr>&#10;<tr>&#10;<th colspan="4">CIADDR (Client IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="5">YIADDR (Your IP Address)</th></tr>&#10;<tr>&#10;<td colspan="5">0xC0A80164</td></tr>&#10;<tr>&#10;<th colspan="4">SIADDR (Server IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80101</td></tr>&#10;<tr>&#10;<th colspan="4">GIADDR (Gateway IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">CHADDR (Client Hardware Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00053C04</td></tr>&#10;<tr>&#10;<td colspan="4">0x8D590000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">192 octets of 0s. <a href="http://en.wikipedia.org/wiki/BOOTP" id="w">BOOTP</a> legacy</td></tr>&#10;<tr>&#10;<th colspan="4">Magic Cookie</th></tr>&#10;<tr>&#10;<td colspan="4">0x63825363</td></tr>&#10;<tr>&#10;<th colspan="4">DHCP Options</th></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 53: DHCP Offer</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 1: 255.255.255.0 subnet mask</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 3: 192.168.1.1 router</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 51: 86400s (1 day) IP lease time</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 54: 192.168.1.1 DHCP server</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 6: DNS servers 9.7.10.15, 9.7.10.16, 9.7.10.18</td></tr></table></div>&#10;&#10;<a id="DHCP_pedido" name="DHCP_pedido"></a><h3> DHCP pedido </h3>&#10;<p>Em resposta aos pedidos de oferta de cliente do servidor. O cliente responde DHCPREQUEST, ainda em broadcast para o servidor (para ser vis&iacute;vel por todos os DHCP Servers), solicitando o endere&ccedil;o oferecido. Um cliente pode receber ofertas de v&aacute;rios servidores DHCP, mas vai aceitar apenas uma oferta DHCP. Com base no campo ID da transa&ccedil;&atilde;o no pedido, os servidores s&atilde;o informados da oferta que o cliente aceitou. Quando outros servidores DHCP receber esta mensagem, eles retiram quaisquer ofertas que eles poderiam ter feito para o cliente e retornar o endere&ccedil;o oferecido ao pool de endere&ccedil;os dispon&iacute;veis. Em alguns casos, DHCPMESSAGE &eacute; transmitido em broadcast, em vez de ser unicast para um servidor DHCP particular, porque o cliente DHCP ainda n&atilde;o recebeu um endere&ccedil;o IP. Al&eacute;m disso, esta mensagem de uma forma pode deixar todos os outros servidores DHCP saberem que um outro servidor fornecer&aacute; o endere&ccedil;o IP sem perder qualquer um dos servidores com uma s&eacute;rie de mensagens unicast.&#10;A mensagem DHCPREQUEST tamb&eacute;m &eacute; utilizada pelo cliente DHCP para renovar o per&iacute;odo de concess&atilde;o do endere&ccedil;o de rede de tempo em tempo (dependente do per&iacute;odo de concess&atilde;o configurado no servidor DHCP e de implementa&ccedil;&atilde;o do cliente).</p>&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>DHCPREQUEST</caption>&#10;<tr>&#10;<td colspan="4">UDP Src=0.0.0.0 sPort=68 <br/> Dest=255.255.255.255 dPort=67</td></tr>&#10;<tr>&#10;<th>OP</th>&#10;<th>HTYPE</th>&#10;<th>HLEN</th>&#10;<th>HOPS</th></tr>&#10;<tr>&#10;<td>0x01</td>&#10;<td>0x01</td>&#10;<td>0x06</td>&#10;<td>0x00</td></tr>&#10;<tr>&#10;<th colspan="5">XID</th></tr>&#10;<tr>&#10;<td colspan="5">0x3903F326</td></tr>&#10;<tr>&#10;<th colspan="2">SECS</th>&#10;<th colspan="2">FLAGS</th></tr>&#10;<tr>&#10;<td colspan="2">0x0000</td>&#10;<td colspan="2">0x0000</td></tr>&#10;<tr>&#10;<th colspan="4">CIADDR (Client IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">YIADDR (Your IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">SIADDR (Server IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80101</td></tr>&#10;<tr>&#10;<th colspan="4">GIADDR (Gateway IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">CHADDR (Client Hardware Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00053C04</td></tr>&#10;<tr>&#10;<td colspan="4">0x8D590000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">192 octets of 0s. <a href="http://en.wikipedia.org/wiki/BOOTP" id="w">BOOTP</a> legacy</td></tr>&#10;<tr>&#10;<th colspan="4">Magic Cookie</th></tr>&#10;<tr>&#10;<td colspan="4">0x63825363</td></tr>&#10;<tr>&#10;<th colspan="4">DHCP Options</th></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 53: DHCP Request</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 50: 192.168.1.100 requested</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 54: 192.168.1.1 DHCP server.</td></tr></table></div>&#10;&#10;<a id="DHCP_de_confirma%C3%A7%C3%A3o" name="DHCP_de_confirma%C3%A7%C3%A3o"></a><h3> DHCP de confirma&ccedil;&atilde;o </h3>&#10;<p>Quando o servidor DHCP recebe a mensagem DHCPREQUEST do cliente, o processo de configura&ccedil;&atilde;o entra em sua fase final. A fase de reconhecimento envolve o envio de um pacote DHCPACK para o cliente. Este pacote inclui a dura&ccedil;&atilde;o da concess&atilde;o e quaisquer outras informa&ccedil;&otilde;es de configura&ccedil;&atilde;o que o cliente pode ter solicitado. Neste ponto, o processo de configura&ccedil;&atilde;o de IP &eacute; conclu&iacute;da.&#10;O protocolo prev&ecirc; que o cliente DHCP configurar&aacute; sua interface de rede com os par&acirc;metros negociados.</p>&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>DHCPACK</caption>&#10;<tr>&#10;<td colspan="4">UDP Src=192.168.1.1 sPort=67<br/>Dest=255.255.255.255 dPort=68</td></tr>&#10;<tr>&#10;<th>OP</th>&#10;<th>HTYPE</th>&#10;<th>HLEN</th>&#10;<th>HOPS</th></tr>&#10;<tr>&#10;<td>0x02</td>&#10;<td>0x01</td>&#10;<td>0x06</td>&#10;<td>0x00</td></tr>&#10;<tr>&#10;<th colspan="5">XID</th></tr>&#10;<tr>&#10;<td colspan="5">0x3903F326</td></tr>&#10;<tr>&#10;<th colspan="3">SECS</th>&#10;<th colspan="2">FLAGS</th></tr>&#10;<tr>&#10;<td colspan="2">0x0000</td>&#10;<td colspan="2">0x0000</td></tr>&#10;<tr>&#10;<th colspan="4">CIADDR (Client IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">YIADDR (Your IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80164</td></tr>&#10;<tr>&#10;<th colspan="4">SIADDR (Server IP Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0xC0A80101</td></tr>&#10;<tr>&#10;<th colspan="4">GIADDR (Gateway IP Address switched by relay)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<th colspan="4">CHADDR (Client Hardware Address)</th></tr>&#10;<tr>&#10;<td colspan="4">0x00053C04</td></tr>&#10;<tr>&#10;<td colspan="4">0x8D590000</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000&#10;</td></tr>&#10;<tr>&#10;<td colspan="4">0x00000000</td></tr>&#10;<tr>&#10;<td colspan="4">192 octets of 0s. <a href="http://en.wikipedia.org/wiki/BOOTP" id="w">BOOTP</a> legacy</td></tr>&#10;<tr>&#10;<th colspan="4">Magic Cookie</th></tr>&#10;<tr>&#10;<td colspan="4">0x63825363</td></tr>&#10;<tr>&#10;<th colspan="4">DHCP Options</th></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 53: DHCP ACK</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 1: 255.255.255.0 subnet mask</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 3: 192.168.1.1 router</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 51: 86400s (1 day) IP lease time</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 54: 192.168.1.1 DHCP server</td></tr>&#10;<tr>&#10;<td colspan="4">DHCP option 6: DNS servers 9.7.10.15, 9.7.10.16, 9.7.10.18</td></tr></table></div>&#10;&#10;<a id="DHCP_informa%C3%A7%C3%B5es" name="DHCP_informa%C3%A7%C3%B5es"></a><h3> DHCP informa&ccedil;&otilde;es </h3>&#10;<p>Um cliente DHCP pode solicitar mais informa&ccedil;&otilde;es do que o servidor enviou com o DHCPOFFER original. O cliente tamb&eacute;m pode solicitar dados repetidos para uma determinada aplica&ccedil;&atilde;o. Por exemplo, os navegadores usam DHCPINFORMATION para obter as configura&ccedil;&otilde;es de proxy web via WPAD. Estas consultas com o servidor DHCP n&atilde;o servem para atualizar o tempo de concess&atilde;o do IP em seu banco de dados (para isso &eacute; enviada a mensagem DHCPREQUEST).</p>&#10;<a id="DHCP_liberando" name="DHCP_liberando"></a><h3> DHCP liberando </h3>&#10;<p>O cliente envia uma solicita&ccedil;&atilde;o (DHCPRELEASE) ao servidor DHCP para liberar a configura&ccedil;&atilde;o de rede e o cliente DHCP desativa seu endere&ccedil;o IP. Como dispositivos de cliente geralmente n&atilde;o sabem quando os usu&aacute;rios podem deslig&aacute;&shy;los da rede, o protocolo n&atilde;o obriga o envio de DHCPRELEASE.</p>&#10;<a id="Cliente_par%C3%A2metros_de_configura%C3%A7%C3%A3o_no_DHCP" name="Cliente_par%C3%A2metros_de_configura%C3%A7%C3%A3o_no_DHCP"></a><h3> Cliente par&acirc;metros de configura&ccedil;&atilde;o no DHCP </h3>&#10;<p>Um servidor DHCP pode fornecer par&acirc;metros de configura&ccedil;&atilde;o opcionais para o cliente. RFC 2132 descreve as op&ccedil;&otilde;es dispon&iacute;veis DHCP definidas pelo Internet Assigned Numbers Authority (IANA) &shy; PAR&Acirc;METROS DHCP e BOOTP.&#10;Um cliente DHCP pode selecionar, manipular e substituir os par&acirc;metros fornecidos por um servidor DHCP. [3]</p>&#10;<a id="Identifica%C3%A7%C3%A3o_do_fornecedor" name="Identifica%C3%A7%C3%A3o_do_fornecedor"></a><h3> Identifica&ccedil;&atilde;o do fornecedor </h3>&#10;<p>Existe uma op&ccedil;&atilde;o para identificar o fornecedor e funcionalidade de um cliente DHCP. A informa&ccedil;&atilde;o &eacute; uma seq&uuml;&ecirc;ncia de comprimento vari&aacute;vel de caracteres ou octetos que tem um significado especificado pelo fornecedor do cliente DHCP. Um m&eacute;todo que um cliente DHCP pode utilizar para se comunicar com o servidor que est&aacute; usando um certo tipo de hardware ou de firmware &eacute; definir um valor em seus pedidos de DHCP chamado de classe de fornecedor Identifier (VCI) (Op&ccedil;&atilde;o 60). Este m&eacute;todo permite a um servidor DHCP para diferenciar entre os dois tipos de m&aacute;quinas de cliente e processar os pedidos provenientes dos dois tipos de modems de forma adequada. Alguns tipos de set&shy;top boxes tamb&eacute;m definir a VCI (Op&ccedil;&atilde;o 60) para informar o servidor DHCP sobre o tipo de hardware e funcionalidade do dispositivo. O valor que essa op&ccedil;&atilde;o &eacute; definida para dar ao servidor DHCP uma dica sobre as informa&ccedil;&otilde;es necess&aacute;rias extra que este cliente precisa de uma resposta do DHCP.</p>&#10;<p> title = DHCP Options and BOOTP Vendor Extensions&#10; rfc = 2132&#10; last1 = Alexander&#10; first1 = Steve&#10; last2 = Droms&#10; first2 = Ralph&#10; year = 1997&#10; month = March&#10; publisher = <a href="http://en.wikipedia.org/wiki/Internet_Engineering_Task_Force" id="w">IETF</a>&#10; accessdate = June 10, 2012</p>&#10;<p>}}&#10;</p>&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>RFC1497 vendor extensions<sup id="_ref&shy;1" class="reference"><a href="#_note&shy;1" title="">[1]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>0 </td>&#10;<td>Pad<sup id="_ref&shy;2" class="reference"><a href="#_note&shy;2" title="">[2]</a></sup> </td>&#10;<td>1 <a href="http://en.wikipedia.org/wiki/Octet_(computing)" id="w">octet</a> </td>&#10;<td>Can be used to pad other options so that they are aligned to the word boundary</td></tr>&#10;<tr>&#10;<td>1 </td>&#10;<td>Subnet Mask<sup id="_ref&shy;3" class="reference"><a href="#_note&shy;3" title="">[3]</a></sup> </td>&#10;<td>4 octets </td>&#10;<td>Must be sent after the router option (option 3) if both are included</td></tr>&#10;<tr>&#10;<td>2 </td>&#10;<td>Time Offset<sup id="_ref&shy;4" class="reference"><a href="#_note&shy;4" title="">[4]</a></sup> </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>3 </td>&#10;<td>Router </td>&#10;<td>multiples of 4 octets </td>&#10;<td>Available routers, should be listed in order of preference</td></tr>&#10;<tr>&#10;<td>4 </td>&#10;<td>Time Server </td>&#10;<td>multiples of 4 octets </td>&#10;<td>Available time servers to synchronise with, should be listed in order of preference</td></tr>&#10;<tr>&#10;<td>5 </td>&#10;<td>Name Server </td>&#10;<td>multiples of 4 octets </td>&#10;<td>Available IEN116 name servers, should be listed in order of preference</td></tr>&#10;<tr>&#10;<td>6 </td>&#10;<td>Domain Name Server </td>&#10;<td>multiples of 4 octets </td>&#10;<td>Available <a href="http://en.wikipedia.org/wiki/Domain_Name_System" id="w">DNS</a> servers, should be listed in order of preference</td></tr>&#10;<tr>&#10;<td>7 </td>&#10;<td>Log Server </td>&#10;<td>multiples of 4 octets </td>&#10;<td>Available log servers, should be listed in order of preference.</td></tr>&#10;<tr>&#10;<td>8 </td>&#10;<td>Cookie Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>9 </td>&#10;<td>LPR Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>10 </td>&#10;<td>Impress Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>11 </td>&#10;<td>Resource Location Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>12 </td>&#10;<td>Host Name </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>13 </td>&#10;<td>Boot File Size </td>&#10;<td>2 octets </td>&#10;<td>Length of the boot image in 4KiB blocks</td></tr>&#10;<tr>&#10;<td>14 </td>&#10;<td>Merit Dump File </td>&#10;<td>minimum of 1 octet </td>&#10;<td>Path where crash dumps should be stored</td></tr>&#10;<tr>&#10;<td>15 </td>&#10;<td>Domain Name </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>16 </td>&#10;<td>Swap Server </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>17 </td>&#10;<td>Root Path </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>18 </td>&#10;<td>Extensions Path </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>255 </td>&#10;<td>End </td>&#10;<td>0 octets </td>&#10;<td>Used to mark the end of the vendor option field</td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>IP Layer Parameters per Host<sup id="_ref&shy;5" class="reference"><a href="#_note&shy;5" title="">[5]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>19 </td>&#10;<td>IP Forwarding Enable/Disable </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>20 </td>&#10;<td>Non&shy;Local Source Routing Enable/Disable </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>21 </td>&#10;<td>Policy Filter </td>&#10;<td>multiples of 8 octets </td></tr>&#10;<tr>&#10;<td>22 </td>&#10;<td>Maximum Datagram Reassembly Size </td>&#10;<td>2 octets </td></tr>&#10;<tr>&#10;<td>23 </td>&#10;<td>Default IP Time&shy;to&shy;live </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>24 </td>&#10;<td>Path MTU Aging Timeout </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>25 </td>&#10;<td>Path MTU Plateau Table </td>&#10;<td>multiples of 2 octets </td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>IP Layer Parameters per Interface<sup id="_ref&shy;6" class="reference"><a href="#_note&shy;6" title="">[6]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>26 </td>&#10;<td>Interface MTU </td>&#10;<td>2 octets </td></tr>&#10;<tr>&#10;<td>27 </td>&#10;<td>All Subnets are Local </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>28 </td>&#10;<td>Broadcast Address </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>29 </td>&#10;<td>Perform Mask Discovery </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>30 </td>&#10;<td>Mask Supplier </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>31 </td>&#10;<td>Perform Router Discovery </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>32 </td>&#10;<td>Router Solicitation Address </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>33 </td>&#10;<td>Static Route </td>&#10;<td>multiples of 8 octets </td>&#10;<td>A list of destination/router pairs</td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>Link Layer Parameters per Interface<sup id="_ref&shy;7" class="reference"><a href="#_note&shy;7" title="">[7]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>34 </td>&#10;<td>Trailer Encapsulation Option </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>35 </td>&#10;<td>ARP Cache Timeout </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>36 </td>&#10;<td>Ethernet Encapsulation </td>&#10;<td>1 octet </td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>TCP Parameters<sup id="_ref&shy;8" class="reference"><a href="#_note&shy;8" title="">[8]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>37 </td>&#10;<td>TCP Default TTL </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>38 </td>&#10;<td>TCP Keepalive Interval </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>39 </td>&#10;<td>TCP Keepalive Garbage </td>&#10;<td>1 octet </td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>Application and Service Parameters<sup id="_ref&shy;9" class="reference"><a href="#_note&shy;9" title="">[9]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>40 </td>&#10;<td>Network Information Service Domain </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>41 </td>&#10;<td>Network Information Servers </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>42 </td>&#10;<td>Network Time Protocol Servers </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>43 </td>&#10;<td>Vendor Specific Information </td>&#10;<td>minimum of 1 octets </td></tr>&#10;<tr>&#10;<td>44 </td>&#10;<td>NetBIOS over TCP/IP Name Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>45 </td>&#10;<td>NetBIOS over TCP/IP Datagram Distribution Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>46 </td>&#10;<td>NetBIOS over TCP/IP Node Type </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>47 </td>&#10;<td>NetBIOS over TCP/IP Scope </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>48 </td>&#10;<td>X Window System Font Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>49 </td>&#10;<td>X Window System Display Manager </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>64 </td>&#10;<td>Network Information Service+ Domain </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>65 </td>&#10;<td>Network Information Service+ Servers </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>68 </td>&#10;<td>Mobile IP Home Agent </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>69 </td>&#10;<td>Simple Mail Transport Protocol (SMTP) Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>70 </td>&#10;<td>Post Office Protocol (POP3) Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>71 </td>&#10;<td>Network News Transport Protocol (NNTP) Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>72 </td>&#10;<td>Default World Wide Web (WWW) Server) </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>73 </td>&#10;<td>Default Finger Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>74 </td>&#10;<td>Default Internet Relay Chat (IRC) Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>75 </td>&#10;<td>StreetTalk Server </td>&#10;<td>multiples of 4 octets </td></tr>&#10;<tr>&#10;<td>76 </td>&#10;<td>StreetTalk Directory Assistance (STDA) Server </td>&#10;<td>multiples of 4 octets </td></tr></table></div>&#10;&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<caption>DHCP Extensions<sup id="_ref&shy;10" class="reference"><a href="#_note&shy;10" title="">[10]</a></sup></caption>&#10;<tr>&#10;<th>Code </th>&#10;<th>Name </th>&#10;<th>Length </th>&#10;<th>Notes</th></tr>&#10;<tr>&#10;<td>50 </td>&#10;<td>Requested IP Address </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>51 </td>&#10;<td>IP Address Lease Time </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>52 </td>&#10;<td>Option Overload </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>53 </td>&#10;<td>DHCP Message Type </td>&#10;<td>1 octet </td></tr>&#10;<tr>&#10;<td>54 </td>&#10;<td>Server Identifier </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>55 </td>&#10;<td>Parameter Request List </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>56 </td>&#10;<td>Message </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>57 </td>&#10;<td>Maximum DHCP Message Size </td>&#10;<td>2 octets </td></tr>&#10;<tr>&#10;<td>58 </td>&#10;<td>Renewal (T1) Time Value </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>59 </td>&#10;<td>Rebinding (T2) Time Value </td>&#10;<td>4 octets </td></tr>&#10;<tr>&#10;<td>60 </td>&#10;<td>Vendor class identifier </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>61 </td>&#10;<td>Client&shy;identifier </td>&#10;<td>minimum of 2 octets </td></tr>&#10;<tr>&#10;<td>66 </td>&#10;<td>TFTP server name </td>&#10;<td>minimum of 1 octet </td></tr>&#10;<tr>&#10;<td>67 </td>&#10;<td>Bootfile name </td>&#10;<td>minimum of 1 octet </td>&#10;<td>&#10;</td></tr></table></div>&#10;&#10;<a id="Retransmiss%C3%A3o_DHCP" name="Retransmiss%C3%A3o_DHCP"></a><h3> Retransmiss&atilde;o DHCP </h3>&#10;<p>Em redes pequenas, onde apenas uma sub&shy;rede IP est&aacute; a ser gerido, os clientes DHCP se comunicar diretamente com os servidores DHCP. No entanto, os servidores DHCP tamb&eacute;m pode fornecer endere&ccedil;os IP para v&aacute;rias sub&shy;redes. Neste caso, um cliente DHCP que ainda n&atilde;o adquiriu um endere&ccedil;o IP n&atilde;o podem se comunicar diretamente com o servidor DHCP usando o roteamento IP, porque n&atilde;o tem um endere&ccedil;o de IP, nem ele sabe o endere&ccedil;o IP de um roteador. A fim de permitir que os clientes DHCP em sub&shy;redes n&atilde;o directamente servidos por servidores DHCP para se comunicar com servidores DHCP, os agentes de retransmiss&atilde;o DHCP pode ser instalado nesses sub&shy;redes. As transmiss&otilde;es do cliente DHCP no link local, o agente de retransmiss&atilde;o recebe a transmiss&atilde;o e transmite para um ou mais servidores DHCP usando unicast. O agente de retransmiss&atilde;o armazena seu pr&oacute;prio endere&ccedil;o IP no campo GIADDR do pacote DHCP. O servidor DHCP usa o GIADDR para determinar a sub&shy;rede na qual o agente de retransmiss&atilde;o recebeu a transmiss&atilde;o, e atribui um endere&ccedil;o IP na sub&shy;rede. Quando as respostas do servidor DHCP para o cliente, ele envia a resposta para o endere&ccedil;o GIADDR, novamente usando unicast. O agente de retransmiss&atilde;o ent&atilde;o retransmite a resposta na rede local.</p>&#10;<a id="Confiabilidade" name="Confiabilidade"></a><h2> Confiabilidade </h2>&#10;<p>O protocolo DHCP fornece confiabilidade de v&aacute;rias maneiras: renova&ccedil;&atilde;o peri&oacute;dica, religa&ccedil;&atilde;o e failover. Clientes DHCP s&atilde;o atribu&iacute;dos loca&ccedil;&otilde;es que duram por algum per&iacute;odo de tempo. Os clientes come&ccedil;am a tentar renovar suas concess&otilde;es uma vez metade do intervalo o arrendamento expirou. Eles fazem isso atrav&eacute;s do envio de uma mensagem DHCPREQUEST unicast para o servidor DHCP que concedeu o contrato original. Se esse servidor for inativo ou inacess&iacute;vel, ele vai deixar de responder ao DHCPREQUEST. No entanto, o DHCPREQUEST ser&aacute; repetido pelo cliente ao longo do tempo, [especificar], para quando o servidor DHCP volta&shy;se ou torna&shy;se acess&iacute;vel novamente, o cliente DHCP vai conseguir entrar em contato com ela, e renovar o seu contrato.&#10;Se o servidor DHCP est&aacute; inacess&iacute;vel por um per&iacute;odo prolongado de tempo, [especificar] o cliente DHCP tentar&aacute; religar, transmitindo sua DHCPREQUEST vez de unicasting&shy;lo. Porque ele &eacute; transmitido, a mensagem vai chegar DHCPREQUEST todos os servidores DHCP dispon&iacute;veis. Se algum outro servidor DHCP &eacute; capaz de renovar a concess&atilde;o, ele vai faz&ecirc;&shy;lo neste momento.</p>&#10;<p>A fim de religa&ccedil;&atilde;o para o trabalho, quando o cliente contatar com &ecirc;xito um servidor DHCP de backup, o servidor deve ter informa&ccedil;&otilde;es precisas sobre a liga&ccedil;&atilde;o do cliente. Manter informa&ccedil;&otilde;es vinculativas precisa entre dois servidores &eacute; um problema complicado, se os dois servidores s&atilde;o capazes de atualizar o banco de dados mesma loca&ccedil;&atilde;o, deve haver um mecanismo para evitar conflitos entre as atualiza&ccedil;&otilde;es nos servidores independentes. Um padr&atilde;o para implementa&ccedil;&atilde;o de servidores tolerantes a falhas DHCP foi desenvolvido na Internet Engineering Task Force. [15] [nota 1]</p>&#10;<p>Se religa&ccedil;&atilde;o falhar, o arrendamento acabar&aacute; por expirar. Quando a concess&atilde;o expira, o cliente deve parar de usar o endere&ccedil;o IP concedido a ele em seu contrato. Na &eacute;poca, ele ir&aacute; reiniciar o processo de DHCP desde o in&iacute;cio, transmitindo uma mensagem DHCPDISCOVER. Desde o seu contrato de arrendamento expirou, ele vai aceitar qualquer endere&ccedil;o IP que lhe &eacute; oferecido. Uma vez que tem um novo endere&ccedil;o IP, provavelmente a partir de um servidor DHCP diferente, vai mais uma vez ser capaz de usar a rede. No entanto, como seu endere&ccedil;o IP mudou, as conex&otilde;es em curso ser&aacute; quebrado.</p>&#10;<a id="Seguran%C3%A7a" name="Seguran%C3%A7a"></a><h2> Seguran&ccedil;a </h2>&#10;<p>A base de protocolo DHCP n&atilde;o inclui qualquer mecanismo de autentica&ccedil;&atilde;o. Por isso, &eacute; vulner&aacute;vel a uma variedade de ataques. Estes ataques se dividem em tr&ecirc;s categorias principais:</p>&#10;&#10;<ul>&#10;<li>Servidores DHCP n&atilde;o autorizados fornecimento de informa&ccedil;&otilde;es falsas aos clientes. </li>&#10;<li>Clientes n&atilde;o autorizados tenham acesso aos recursos.</li>&#10;<li>Esgotamento dos recursos de clientes ataques maliciosos DHCP.</li></ul>&#10;<p>Porque o cliente n&atilde;o tem como validar a identidade de um servidor DHCP, servidores DHCP n&atilde;o autorizados podem ser operados em redes, presta&ccedil;&atilde;o de informa&ccedil;&otilde;es incorrectas aos clientes DHCP. Isso pode servir tanto como um ataque de nega&ccedil;&atilde;o de servi&ccedil;o, impedindo o cliente de ter acesso a conectividade de rede. Porque o servidor DHCP fornece o cliente DHCP com endere&ccedil;os IP do servidor, como o endere&ccedil;o IP de um ou mais servidores DNS, um atacante pode convencer um cliente DHCP para fazer pesquisas atrav&eacute;s de seu DNS seu pr&oacute;prio servidor DNS, e pode, portanto, fornecer suas pr&oacute;prias respostas a consultas DNS do cliente.  Por sua vez, permite que o atacante para redirecionar o tr&aacute;fego de rede atrav&eacute;s de si, permitindo&shy;lhe escutar as conex&otilde;es entre os servidores de rede do cliente e ele entra em contato, ou simplesmente para substituir os servidores de rede com o seu pr&oacute;prio. &#10;Porque o servidor DHCP n&atilde;o tem nenhum mecanismo seguro para autenticar o cliente, os clientes podem obter acesso n&atilde;o autorizado aos endere&ccedil;os IP de apresenta&ccedil;&atilde;o de credenciais, tais como identificadores do cliente, que pertencem a outros clientes DHCP. Isso tamb&eacute;m permite que os clientes DHCP para esgotar o DHCP armazenamento de servidor de endere&ccedil;os IP&shy;, apresentando novas credenciais cada vez que ele pede um endere&ccedil;o, o cliente pode consumir todos os endere&ccedil;os IP dispon&iacute;veis em um link de rede particular, impedindo outros clientes DHCP da obten&ccedil;&atilde;o de servi&ccedil;os.&#10;DHCP fornece alguns mecanismos para mitigar esses problemas.</p>&#10;<p>O Rel&eacute; de Agente de Informa&ccedil;&otilde;es extens&atilde;o protocolo Option (RFC 3046) permite que os operadores de rede para conectar marcas a mensagens DHCP uma vez que estas mensagens chegam na rede de confian&ccedil;a do operador de rede. Esta tag &eacute; ent&atilde;o usado como um token de autoriza&ccedil;&atilde;o para controlar o acesso do cliente aos recursos da rede. Porque o cliente n&atilde;o tem acesso &agrave; rede a montante do agente de retransmiss&atilde;o, a falta de autentica&ccedil;&atilde;o n&atilde;o impede que o operador do servidor DHCP de confiar no token de autoriza&ccedil;&atilde;o.</p>&#10;<p>Outro ramal, autentica&ccedil;&atilde;o para DHCP mensagens (RFC 3118), fornece um mecanismo para autentica&ccedil;&atilde;o de mensagens DHCP. Infelizmente RFC 3118 n&atilde;o viu a adop&ccedil;&atilde;o generalizada por causa dos problemas de gerenciamento de chaves para um grande n&uacute;mero de clientes DHCP.</p>&#10;<a id="Rede_sem_DHCP_&shy;_APIPA" name="Rede_sem_DHCP_&shy;_APIPA"></a><h2> Rede sem DHCP &shy; APIPA </h2>&#10;<p><a href="http://en.wikipedia.org/wiki/APIPA" id="w">APIPA</a> &eacute; a abreviatura de <i>Automatic Private IP Addressing</i>. Esta &eacute; uma nova funcionalidade que foi introduzida no <a href="http://en.wikipedia.org/wiki/Windows_98" id="w">Windows 98</a>, est&aacute; presente no <a href="http://en.wikipedia.org/wiki/Windows_2000" id="w">Windows 2000</a>, <a href="http://en.wikipedia.org/wiki/Windows_XP" id="w">Windows XP</a>, <a href="http://en.wikipedia.org/wiki/Windows_Vista" id="w">Windows Vista</a>, <a href="http://en.wikipedia.org/wiki/Windows_7" id="w">Windows 7</a>, <a href="http://en.wikipedia.org/wiki/Longhorn_Server" id="w">Longhorn Server</a> e no <a href="http://en.wikipedia.org/wiki/Windows_Server_2003" id="w">Windows Server 2003</a>. Imagine um cliente com o protocolo TCP/IP instalado e configurado para obter as configura&ccedil;&otilde;es do protocolo TCP/IP a partir de um servidor DHCP. O cliente &eacute; inicializado, por&eacute;m n&atilde;o consegue se comunicar com um servidor DHCP. Neste situa&ccedil;&atilde;o, o Windows, usa o recurso APIPA, e automaticamente atribui um endere&ccedil;o IP da rede 169.254.0.0/255.255.0.0. Este &eacute; um dos endere&ccedil;os especiais, reservados para uso em redes internas, ou seja, este n&atilde;o seria um endere&ccedil;o de rede, v&aacute;lido na Internet. A seguir descrevo mais detalhes sobre a funcionalidade APIPA.</p>&#10;<p><b>ATEN&Ccedil;&Atilde;O</b>: O n&uacute;mero de rede usado pelo recurso APIPA &eacute; o seguinte: <b>169.254.0.0/255.255.0.0</b>&#10;Nota: O recurso APIPA &eacute; especialmente &uacute;til para o caso de uma pequena rede, com 4 ou 5 computadores, onde n&atilde;o existe um servidor dispon&iacute;vel. Neste caso voc&ecirc; pode configurar todos os computadores para usarem o DHCP. Ao inicializar, os clientes n&atilde;o conseguir&atilde;o localizar um servidor DHCP (j&aacute; que n&atilde;o existe nenhum servidor DHCP nesta rede do nosso exemplo). Neste caso o recurso APIPA atribuir&aacute; endere&ccedil;os da rede 169.254.0.0/255.255.0.0 para todos os computadores da rede. O resultado final &eacute; que todos ficam configurados com endere&ccedil;os IP da mesma rede e poder&atilde;o se comunicar, compartilhando recursos entre si. &Eacute; uma boa solu&ccedil;&atilde;o para um rede dom&eacute;stica ou de um pequeno escrit&oacute;rio.</p>&#10;<a id="%7B%7BVer_tamb%C3%A9m%7D%7D" name="%7B%7BVer_tamb%C3%A9m%7D%7D"></a><h2>   </h2>&#10;&#10;<ul>&#10;<li><a href="http://en.wikipedia.org/wiki/Redes_de_computadores" id="w">Redes de computadores</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Protocolo" id="w">Protocolo</a></li></ul>&#10;<p> </p>&#10;<p> &#10;<a href="http://en.wikipedia.org/wiki/Categoria:Protocolos_Internet" id="w">Categoria:Protocolos Internet</a></p></body></html>