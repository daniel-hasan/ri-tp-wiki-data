<html><title>Encaminhamento</title><body>&#10;<p> &#10; </p>&#10;<p>No contexto das <a href="http://en.wikipedia.org/wiki/Rede_de_computadores" id="w">redes de computadores</a> o <b>encaminhamento</b> (ou <b>roteamento</b>) de <a href="http://en.wikipedia.org/wiki/Pacote" id="w">pacotes</a> (em <a href="http://en.wikipedia.org/wiki/L%C3%ADngua_inglesa" id="w">ingl&ecirc;s</a>: <i>routing</i>) designa o processo de reencaminhamento de pacotes, que se baseia no <a href="http://en.wikipedia.org/wiki/Endere%C3%A7o_IP" id="w">endere&ccedil;o IP</a> e m&aacute;scara de rede dos mesmos. &Eacute;, portanto, uma opera&ccedil;&atilde;o da terceira camada do <a href="http://en.wikipedia.org/wiki/Modelo_OSI" id="w">modelo OSI</a>.</p>&#10;<p>Este processo pressup&otilde;e uma tabela de encaminhamento (tabela de <i>routing</i>) em cada <a href="http://en.wikipedia.org/wiki/Router" id="w">router</a> que descreve o caminho percorrido por uma mensagem desde o ponto de origem at&eacute; ao seu ponto de destino parecida com a seguinte:</p>&#10;&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<tr>&#10;<th>Rede</th>&#10;<th>M&aacute;scara</th>&#10;<th>Nexthop</th></tr>&#10;<tr align="center">&#10;<td>192.168.20.0 </td>&#10;<td>255.255.255.0 </td>&#10;<td>192.168.0.254</td></tr>&#10;<tr align="center">&#10;<td>* </td>&#10;<td>&shy; </td>&#10;<td>213.12.123.133</td></tr></table></div>&#10;&#10;<a id="M%C3%A1scara_de_rede" name="M%C3%A1scara_de_rede"></a><h2> M&aacute;scara de rede </h2>&#10;<p>A <a href="http://en.wikipedia.org/wiki/M%C3%A1scara_de_rede" id="w">m&aacute;scara de rede</a> especifica a gama de IPs (<a href="http://en.wikipedia.org/wiki/Dom%C3%ADnio_de_colis%C3%A3o" id="w">dom&iacute;nio de colis&atilde;o</a>) que pode ser abrangida por um determinado endere&ccedil;o, e &eacute; especialmente necess&aacute;ria no processo de encaminhamento (<i>routing</i>). Ainda, com simples c&aacute;lculos, pode&shy;se gerir eficientemente o espa&ccedil;o de endere&ccedil;amento dispon&iacute;vel, o que nos primeiros tempos da exist&ecirc;ncia da <a href="http://en.wikipedia.org/wiki/Internet" id="w">Internet</a> era muito importante, j&aacute; que os endere&ccedil;os eram alugados em grupos.</p>&#10;<p>A nota&ccedil;&atilde;o formal de uma m&aacute;scara de rede &eacute; o formato t&iacute;pico de um <a href="http://en.wikipedia.org/wiki/Endere%C3%A7o_IP" id="w">endere&ccedil;o IP</a> e, aplicada com uma opera&ccedil;&atilde;o <a href="http://en.wikipedia.org/wiki/Conjun%C3%A7%C3%A3o_l%C3%B3gica" id="w">AND</a> sobre um endere&ccedil;o IP, devolve a rede a que este pertence. Por exemplo,&#10;  192.168. 20.5     =      11000000.10101000.00010100.00000101&#10;&#38&semi; 255.255.255.0     =      11111111.11111111.11111111.00000000&#10;  &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy; &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&#10;  192.168. 20.0     =      11000000.10101000.00010100.00000000</p>&#10;<p>Ou seja, o IP 192.168.20.5 pertence, aparentemente, &agrave; rede 192.168.20.0. Para simplificar a representa&ccedil;&atilde;o, convencionou&shy;se que a m&aacute;scara de rede poderia acompanhar o IP especificando o n&uacute;mero de <a href="http://en.wikipedia.org/wiki/Bit" id="w">bits</a> &#39&semi;1&#39&semi; cont&iacute;guos, separada por uma barra &#39&semi;/&#39&semi;. Por exemplo, a rede anterior podia ser representada como 192.168.20.0/24.</p>&#10;<p>O espa&ccedil;o de endere&ccedil;amento tamb&eacute;m &eacute; ditado pela m&aacute;scara de rede, e &eacute; equivalente &agrave; nega&ccedil;&atilde;o dos seus bits a &#39&semi;0&#39&semi;, excetuando o primeiro e &uacute;ltimo endere&ccedil;o (endere&ccedil;os de rede e <i>broadcast</i>, respectivamente). Por exemplo, uma m&aacute;scara de 255.255.255.192 ir&aacute; disponibilizar 62 endere&ccedil;os.</p>&#10;<a id="Gest%C3%A3o_do_espa%C3%A7o_de_endere%C3%A7amento" name="Gest%C3%A3o_do_espa%C3%A7o_de_endere%C3%A7amento"></a><h2> Gest&atilde;o do espa&ccedil;o de endere&ccedil;amento </h2>&#10;<p>A utiliza&ccedil;&atilde;o da m&aacute;scara de rede foi particularmente &uacute;til numa altura em que era comum alugar&shy;se blocos de endere&ccedil;os IP. Os operadores tinham, assim, que distinguir nos seus routers cada um desses blocos, e isso era feito atrav&eacute;s da m&aacute;scara de rede.</p>&#10;<p>Suponha&shy;se que dispomos dos seguintes endere&ccedil;os: de 192.168.10.0 a 192.168.10.255, e que existem 5 clientes interessados. Os requisitos de cada um deles s&atilde;o:&#10;</p>&#10;<div style="page&shy;break&shy;inside:&#9;avoid&semi;">&#10;<table class="wikitable">&#10;<tr>&#10;<th>Cliente</th>&#10;<th>Quantidade</th></tr>&#10;<tr align="center">&#10;<td>A </td>&#10;<td>65</td></tr>&#10;<tr align="center">&#10;<td>B </td>&#10;<td>24</td></tr>&#10;<tr align="center">&#10;<td>C </td>&#10;<td>4</td></tr>&#10;<tr align="center">&#10;<td>D </td>&#10;<td>6</td></tr>&#10;<tr align="center">&#10;<td>E </td>&#10;<td>12</td></tr></table></div>&#10;&#10;<p>Ora, pelas nossas contas, vamos precisar de 65+24+4+6+12=111 endere&ccedil;os, e vamos ter que organizar a nossa rede em fun&ccedil;&atilde;o dos blocos associados.&#10;</p>&#10;<ul>&#10;<li>Para A vamos precisar de 65 endere&ccedil;os. Como os blocos funcionam em pot&ecirc;ncias de 2, iremos reservar uma rede de 128 endere&ccedil;os.</li>&#10;<li>Para B ser&aacute; suficiente uma de 32.</li>&#10;<li>Para C dever&aacute; ser uma rede de 8, j&aacute; que os 4 oferecidos pelo bloco imediatamente inferior corresponderiam, na verdade, a 2 endere&ccedil;os utiliz&aacute;veis.</li>&#10;<li>Para D idem &mdash; uma rede de 8.</li>&#10;<li>Para E seria necess&aacute;rio uma rede de 16 endere&ccedil;os.</li></ul>&#10;<p>Vamos verificar as contas: 128+32+8+8+16=192&#60&semi;256, pelo que podemos satisfazer todos os clientes com a nossa pequena rede. Em termos de divis&atilde;o,&#10;Rede A: 192.168.10.  0 / 25 = 255.255.255.128  (0&shy;127)&#10;Rede B: 192.168.10.128 / 27 = 255.255.255.224  (128&shy;159)&#10;Rede C: 192.168.10.160 / 29 = 255.255.255.248  (160&shy;167)&#10;Rede D: 192.168.10.168 / 29 = 255.255.255.248  (168&shy;175)&#10;Rede E: 192.168.10.176 / 28 = 255.255.255.240  (176&shy;191)</p>&#10;<p>Pelas contas anteriores e olhando para a nossa divis&atilde;o, sabemos que o IP 192.168.10.163/29 iria pertencer ao cliente C. Vamos verificar:</p>&#10;<pre>  192.168. 10.163     =      11000000.10101000.00001010.10100011&#10;&#38&semi; 255.255.255.248     =      11111111.11111111.11111111.11111000&#10;  &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy; &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&#10;  192.168. 10.160     =      11000000.10101000.00001010.10100000&#10;</pre>&#10;<p>e que o IP 192.168.10.169/29 iria pertencer ao cliente D:</p>&#10;<pre>  192.168. 10.169     =      11000000.10101000.00001010.10101001&#10;&#38&semi; 255.255.255.248     =      11111111.11111111.11111111.11111000&#10;  &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy; &shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&shy;&#10;  192.168. 10.168     =      11000000.10101000.00001010.10101000&#10;</pre>&#10;<p>E tamb&eacute;m podemos verificar que ainda nos sobra espa&ccedil;o para uma rede de 64 endere&ccedil;os. Esta rede &eacute; o subespa&ccedil;o que sobrou das contas anteriores: 192+64=256! J&aacute; agora, podemos facilmente deduzir que a rede seria 192.168.10.192/26</p>&#10;<a id="Ver_tamb%C3%A9m" name="Ver_tamb%C3%A9m"></a><h2> Ver tamb&eacute;m </h2>&#10;&#10;<ul>&#10;<li><a href="http://en.wikipedia.org/wiki/M%C3%A1scara_de_rede" id="w">M&aacute;scara de rede</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/Subrede" id="w">Subrede</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/CIDR" id="w">CIDR</a></li>&#10;<li><a href="http://en.wikipedia.org/wiki/NAT" id="w">NAT</a></li></ul>&#10;<p> </p>&#10;<p><a href="http://en.wikipedia.org/wiki/Categoria:Encaminhamento" id="w"> </a></p></body></html>